{"version":3,"sources":["webpack:///./src/app/app.component.css","webpack:///./src/app/reader/_common.css","webpack:///./src/app/reader/_layer.css","webpack:///./src/app/reader/_pages.css","webpack:///./src/app/viewer/viewer.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/reader/reader.component.html","webpack:///./src/app/viewer/viewer.component.html","webpack:///./src/app/lib/menu.ts","webpack:///./src/app/lib/args.ts","webpack:///./src/app/lib/util.ts","webpack:///./src/app/reader/config.ts","webpack:///./src/app/viewer/viewer.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/lib/touchbar.ts","webpack:///./src/app/page-height.pipe.ts","webpack:///./src/app/reader/book.ts","webpack:///./src/app/reader/meta.ts","webpack:///./src/app/reader/reader.component.ts","webpack:///./src/app/trust-resource-url.pipe.ts","webpack:///./src/environments/environment.prod.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".titlebar {\\n  height: 28px;\\n  -webkit-app-region: drag;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\nreader {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 144\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"::-webkit-scrollbar {\\n  width: 0;\\n  height: 0;\\n}\\n\\n:host {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/_common.css\n// module id = 145\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".layer {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  pointer-events: none;\\n}\\n\\n.layer .panel {\\n  position: absolute;\\n  background-color: #222;\\n  border-radius: 10px;\\n  color: #ccc;\\n  opacity: 0.8;\\n  padding: 10px 14px 8px 14px;\\n  font-family: 'Monaco', sans-serif;\\n  font-size: 14px;\\n}\\n\\n.progress {\\n  display: inline-block;\\n  top: 18px;\\n  right: 18px;\\n}\\n\\n.ctrl {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: stretch;\\n      -ms-flex-align: stretch;\\n          align-items: stretch;\\n}\\n\\n.ctrl .panel {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/_layer.css\n// module id = 146\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"section.pages {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-flow: column nowrap;\\n          flex-flow: column nowrap;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  overflow-scrolling: touch;\\n  scroll-behavior: smooth;\\n}\\n\\nviewer {\\n  width: 100%;\\n}\\n\\n.pages.singlePage viewer {}\\n\\n.pages.continuousScroll viewer + viewer {\\n  margin-top: 7vh;\\n}\\n\\n\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/_pages.css\n// module id = 147\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"section {\\n  text-align: center;\\n  position: relative;\\n}\\n\\nsection.singlePage {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n}\\n\\nsection.singlePage.overflow {\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.loading {\\n  z-index: -1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  color: white;\\n  font-family: \\\"American Typewriter\\\", monospace;\\n  opacity: 0.8;\\n}\\n\\n.loading .words {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-flow: column nowrap;\\n          flex-flow: column nowrap;\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.loading .words .page {\\n  font-size: 4vh;\\n  margin-bottom: 1vh;\\n}\\n\\n.loading .words .status {\\n  font-size: 2.5vh;\\n  opacity: 0.8;\\n}\\n\\nimg {\\n  box-shadow: 0 0 32px 4px rgba(0, 0, 0, 0.4);\\n  /*transition: opacity 750ms ease-in-out;*/\\n  /*opacity: 0.6;*/\\n  /*animation: loaded 500ms;*/\\n}\\n\\n/*@keyframes loaded {*/\\n/*from {*/\\n/*opacity: 0.8;*/\\n/*filter: blur(2px);*/\\n/*}*/\\n/*to {*/\\n/*filter: blur(0);*/\\n/*opacity: 1;*/\\n/*}*/\\n/*}*/\\n\\nimg.visible {\\n  /*opacity: 1;*/\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/viewer/viewer.component.css\n// module id = 148\n// module chunks = 1","module.exports = \"<reader [path]=\\\"path\\\" [refresh]=\\\"refresh\\\" (ok)=\\\"onOk()\\\" (fail)=\\\"open()\\\"></reader>\\n<header class=\\\"titlebar\\\"></header>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 153\n// module chunks = 1","module.exports = \"<section class=\\\"pages\\\" #pages\\n         [class.singlePage]=\\\"config.isSinglePage()\\\"\\n         [class.continuousScroll]=\\\"config.isContinuousScroll()\\\">\\n  <viewer #page *ngFor=\\\"let p of book?.meta?.Pages; let i = index;\\\"\\n          [config]=\\\"config\\\"\\n          [hidden]=\\\"config.isContinuousScroll()? false: (i+1!==book.current)\\\"\\n          [id]=\\\"'page-'+(i+1)\\\"\\n          [class]=\\\"i\\\"\\n          [page]=\\\"i+1\\\"\\n          [cache]=\\\"inCacheRange(i+1)\\\"\\n          [path]=\\\"book.getPageFilePath(p.Id)\\\"\\n          [meta]=\\\"p\\\"\\n          (attention)=\\\"book.updateCurrent(i+1)\\\">\\n  </viewer>\\n</section>\\n<section class=\\\"layer\\\">\\n  <section class=\\\"panel progress\\\" *ngIf=\\\"book?.total\\\">\\n    {{book?.current}} / {{book?.total}}\\n  </section>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/reader.component.html\n// module id = 154\n// module chunks = 1","module.exports = \"<section class=\\\"viewer\\\" #viewer\\n         [class.overflow]=\\\"overflow | async\\\"\\n         [class.singlePage]=\\\"config.isSinglePage()\\\"\\n         [class.continuousScroll]=\\\"config.isContinuousScroll()\\\"\\n         [style.height.px]=\\\"config.whenContinuousScroll(config.whenNotFullWidth(height))\\\"\\n         [style.minHeight.px]=\\\"config.whenContinuousScroll(config.whenNotFullWidth(height))\\\"\\n         [style.maxHeight.px]=\\\"config.whenContinuousScroll(config.whenNotFullWidth(height))\\\">\\n  <div class=\\\"loading\\\">\\n    <div class=\\\"words\\\">\\n      <div class=\\\"page\\\">Page {{page}}</div>\\n      <!--<div class=\\\"status\\\">{{meta.Type}}: {{meta.Width}}-{{meta.Height}}</div>-->\\n      <div class=\\\"status\\\">loading...</div>\\n    </div>\\n  </div>\\n  <img #img [src]=\\\"path\\\"\\n       [style.marginTop.vh]=\\\"config.whenSinglePage(config.whenNotFullHeight(config.ui.view.singlePage.before))\\\"\\n       [style.marginBottom.vh]=\\\"config.whenSinglePage(config.whenNotFullHeight(config.ui.view.singlePage.after))\\\"\\n       [style.maxHeight.px]=\\\"config.whenNotFullWidth(height)\\\"\\n       [style.minWidth.%]=\\\"config.whenFullWidth(100)\\\"\\n       [style.width.%]=\\\"config.whenFullWidth(100)\\\"\\n       [class.visible]=\\\"show && inView\\\"\\n       *ngIf=\\\"cache\\\"\\n       (load)=\\\"onLoad()\\\">\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/viewer/viewer.component.html\n// module id = 155\n// module chunks = 1","import {Injectable} from \"@angular/core\";\nconst electron = window['require']('electron');\nconst {app, Menu, MenuItem} = electron.remote;\nconst process = window['process'];\n\nexport {\n  MenuItem\n}\n\nconst getTemplate = function () {\n  const template: any = [\n    {\n      label: 'File',\n      submenu: []\n    },\n    {\n      label: 'View',\n      submenu: [\n        {\n          role: 'togglefullscreen'\n        }\n      ]\n    },\n    {\n      role: 'window',\n      submenu: [\n        {\n          role: 'minimize'\n        },\n        {\n          role: 'close'\n        }\n      ]\n    },\n    {\n      role: 'help',\n      submenu: [\n        {\n          label: 'Learn More',\n          click () {\n            electron.shell.openExternal('http://devbycm.com')\n          }\n        }\n      ]\n    }\n  ];\n  if (process.platform === 'darwin') {\n    template.unshift({\n      label: app.getName(),\n      submenu: [\n        {\n          role: 'about'\n        },\n        {\n          type: 'separator'\n        },\n        {\n          role: 'services',\n          submenu: []\n        },\n        {\n          type: 'separator'\n        },\n        {\n          role: 'hide'\n        },\n        {\n          role: 'hideothers'\n        },\n        {\n          role: 'unhide'\n        },\n        {\n          type: 'separator'\n        },\n        {\n          role: 'quit'\n        }\n      ]\n    });\n    // Window menu.\n    template[3].submenu = [\n      {\n        label: 'Close',\n        accelerator: 'CmdOrCtrl+W',\n        role: 'close'\n      },\n      {\n        label: 'Minimize',\n        accelerator: 'CmdOrCtrl+M',\n        role: 'minimize'\n      }, {\n        label: 'Zoom',\n        accelerator: 'Ctrl+Cmd+=',\n        role: 'zoom'\n      }, {\n        label: 'Always On Top',\n        type: 'checkbox',\n        checked: false,\n        click: function (item, win) {\n          win.setAlwaysOnTop(!win.isAlwaysOnTop());\n          item.checked = win.isAlwaysOnTop();\n        }\n      }, {\n        type: 'separator'\n      }, {\n        label: 'Developer Tools',\n        accelerator: 'Cmd+Alt+I',\n        click: function (item, win) {\n          if (!win.webContents.isDevToolsOpened()) {\n            win.webContents.openDevTools();\n          }\n        }\n      }, {\n        type: 'separator'\n      },\n      {\n        label: 'Bring All to Front',\n        role: 'front'\n      }\n    ];\n  }\n  return Menu.buildFromTemplate(template);\n};\n\n@Injectable()\nexport class AppMenu {\n  current: any = getTemplate();\n\n  get() {\n    return this.current;\n  }\n\n  getSubMenu(index: number) {\n    return this.current.items[index].submenu;\n  }\n\n  file() {\n    return this.getSubMenu(1);\n  }\n\n  view() {\n    return this.getSubMenu(2);\n  }\n\n  set() {\n    Menu.setApplicationMenu(this.current);\n  }\n\n  reset() {\n    this.current = getTemplate();\n    this.set();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/menu.ts","const qs = require('querystring');\nconst {ipcRenderer} = window['require']('electron');\n\nexport class Args {\n  path: string;\n  port: number;\n  _promise: Promise<any>;\n  _resolve: Function;\n  sema: number = 0;\n\n  constructor() {\n    this._promise = new Promise(resolve => this._resolve = resolve);\n  }\n\n  check() {\n    if (this._resolve && this.sema >= 2) {\n      this._resolve();\n    }\n  }\n\n  wait() {\n    return this._promise;\n  }\n}\n\nconst args: Args = new Args();\n\nipcRenderer.on('path', (event, message) => {\n  console.warn('PATH:', message);\n  args.path = message;\n  args.sema++;\n  args.check();\n});\nipcRenderer.on('port', (event, message) => {\n  console.warn('PORT:', message);\n  args.port = message;\n  args.sema++;\n  args.check();\n});\n\nexport default args;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/args.ts","import Timer = NodeJS.Timer;\n\nclass ClassNames {\n  names: string[] = [];\n\n  get(): string[] {\n    return this.names;\n  }\n\n  clear() {\n    this.names = [];\n  }\n\n  add(c: string) {\n    this.names.push(c);\n  }\n}\n\nexport class IntervalTimer {\n  lastRunTime: number;\n  timer: Timer;\n\n  constructor() {\n  }\n\n  run(callback: Function, delay: number = 100) {\n    const now = Date.now();\n    if ((now - this.lastRunTime) > delay) {\n      this.lastRunTime = now;\n      callback();\n      this.timer = null;\n    } else {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.timer = setTimeout(() => {\n        this.lastRunTime = now;\n        callback();\n      }, delay - (now - this.lastRunTime));\n    }\n  }\n\n  whenFree(callback: Function) {\n    if (!this.timer) {\n      callback();\n    }\n  }\n}\n\nexport class EnterLeaveRecorder {\n  io: IntersectionObserver;\n  stack: string[] = [];\n\n  constructor(cb: IntersectionObserverCallback, opt?: IntersectionObserverInit) {\n    this.io = new IntersectionObserver(cb, opt);\n  }\n\n  top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  // intersect(...ids: string[]): boolean {\n  //   return ids.map(id => this.stack.includes(id)).some(b => b);\n  // }\n\n  toggle(id: string) {\n    const index = this.stack.indexOf(id);\n    if (index < 0) {\n      this.stack.push(id);\n    } else {\n      this.stack.splice(index, 1);\n    }\n    return this.top();\n  }\n\n}\n\nexport class Dismiss {\n  constructor(private times: number) {\n  }\n\n  run(cb: Function) {\n    if (this.times > 0) {\n      this.times--;\n    } else {\n      cb();\n    }\n  }\n}\n\nexport class RustyLock {\n  finishTime: number = 0;\n\n  constructor() {\n  }\n\n  lock(interval: number) {\n    this.finishTime = Date.now() + interval;\n  }\n\n  run(cb: Function) {\n    if (Date.now() > this.finishTime) {\n      cb();\n    }\n  }\n}\n\nexport class Checker {\n  timer: Timer;\n\n  constructor(private freq: number) {\n  }\n\n  check(checkFn: () => boolean, cb: () => any, times: number = -1) {\n    const call = () => {\n      if (checkFn()) {\n        if (times > 0) {\n          times--;\n        }\n        cb();\n        if (times === 0) {\n          this.clear();\n        }\n      }\n    };\n    call();\n    this.timer = setInterval(() => {\n      call();\n    }, this.freq)\n  }\n\n  clear() {\n    clearInterval(this.timer);\n  }\n}\n\nexport class ABMap {\n  mapA: object = {};\n  mapB: object = {};\n\n  constructor(enumArr?: any[]) {\n    if (enumArr) {\n      enumArr.forEach((item, i) => this.set(i, item));\n    }\n  }\n\n  set(a: any, b: any) {\n    this.mapA[a] = b;\n    this.mapB[b] = a;\n  }\n\n  getA(b: any) {\n    return this.mapB[b];\n  }\n\n  getB(a: any) {\n    return this.mapA[a];\n  }\n}\n\nexport class Semaphore {\n  initial: number;\n\n  constructor(private permits: number) {\n    this.initial = permits;\n  }\n\n  set(p: number) {\n    this.permits = p;\n  }\n\n  reset(): number {\n    return this.permits = this.initial;\n  }\n\n  get(): number {\n    return this.permits;\n  }\n\n  wait(success?: Function, error?: Function): boolean {\n    if (this.permits > 0) {\n      success && success();\n      this.permits--;\n      return true;\n    } else {\n      error && error();\n      return false;\n    }\n  }\n\n  release(): number {\n    this.permits++;\n    return this.permits;\n  }\n}\n\nexport class Change<T> {\n  v: T;\n\n  constructor(initial?: T) {\n    this.v = initial;\n  }\n\n  changed(n: T): boolean {\n    if (n !== this.v) {\n      this.v = n;\n      return true;\n    }\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/util.ts","let cnt = 0;\nconst pt = v => console.log(cnt++, v);\n\nexport class ConfigItem<T> {\n  private listeners = [];\n  private value: any;\n\n  constructor(v?: T) {\n    this.value = v;\n  }\n\n  set(v: T) {\n    const old = this.value;\n    this.value = v;\n    if (old !== this.value) {\n      this.listeners.forEach(cb => cb(this.value, old));\n    }\n  }\n\n  get(): T {\n    return this.value;\n  }\n\n  change(cb: Function) {\n    return this.listeners.push(cb);\n  }\n\n  toValue(): T {\n    return this.value;\n  }\n\n  toString() {\n    return this.toValue().toString();\n  }\n}\n\nexport class Config {\n\n  // appearance\n  ui: object = {\n    view: {\n      continuousScroll: {\n        before: 5,\n        interval: 0,\n        after: 0,\n      },\n      singlePage: {\n        before: 5,\n        after: 5\n      }\n    }\n  };\n\n  // scale\n  scale = new ConfigItem<number>(Config.SCALE_DEFAULT);\n  static SCALE_DEFAULT: number = 150;\n  static SCALE_FULL_HEIGHT: number = 100;\n  static SCALE_FULL_WIDTH: number = Infinity;\n  static SCALE_ALL: number[] = [Config.SCALE_FULL_HEIGHT, Config.SCALE_DEFAULT, Config.SCALE_FULL_WIDTH];\n\n  isFullWidth(): boolean {\n    return this.scale.get() === Config.SCALE_FULL_WIDTH;\n  }\n\n  whenFullWidth(v: any): boolean {\n    if (this.isFullWidth()) {\n      return v;\n    }\n  }\n\n  whenNotFullWidth(v: any): boolean {\n    if (!this.isFullWidth()) {\n      return v;\n    }\n  }\n\n  isFullHeight(): boolean {\n    return this.scale.get() === Config.SCALE_FULL_HEIGHT;\n  }\n\n  whenFullHeight(v: any): boolean {\n    if (this.isFullHeight()) {\n      return v;\n    }\n  }\n\n  whenNotFullHeight(v: any): boolean {\n    if (!this.isFullHeight()) {\n      return v;\n    }\n  }\n\n  // view\n  view = new ConfigItem<number>(Config.VIEW_SINGLE_PAGE);\n  static VIEW_CONTINUOUS_SCROLL: number = 0;\n  static VIEW_SINGLE_PAGE: number = 1;\n  static VIEW_ALL: number[] = [Config.VIEW_CONTINUOUS_SCROLL, Config.VIEW_SINGLE_PAGE];\n\n  isContinuousScroll(): boolean {\n    return this.view.get() === Config.VIEW_CONTINUOUS_SCROLL;\n  }\n\n  whenContinuousScroll(v: any) {\n    if (this.isContinuousScroll()) {\n      return v;\n    }\n  }\n\n  isSinglePage(): boolean {\n    return this.view.get() === Config.VIEW_SINGLE_PAGE;\n  }\n\n  whenSinglePage(v: any) {\n    if (this.isSinglePage()) {\n      return v;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/config.ts","import {\n  Component, OnInit, Input, OnChanges, ElementRef, Output, EventEmitter, NgZone,\n  HostListener\n} from '@angular/core';\nimport {PageMeta} from \"../reader/meta\";\nimport {Change, Checker, Semaphore} from \"../lib/util\";\nimport {Config} from \"../reader/config\";\nconst getWindowSize = () => {\n  return [window.innerWidth, window.innerHeight];\n};\n\n@Component({\n  selector: 'viewer',\n  templateUrl: './viewer.component.html',\n  styleUrls: ['./viewer.component.css']\n})\nexport class ViewerComponent implements OnInit, OnChanges {\n  @Input() path: string;\n  @Input() meta: PageMeta;\n  @Input() page: number;\n  height: number;\n  @Input() cache: boolean;\n  @Input() config: Config;\n  show: boolean = false;\n  elm: any;\n  inView: boolean = false;\n  overflow: Promise<boolean>;\n  resolveOverflow: Function;\n  @Output() enter = new EventEmitter<null>();\n  @Output() leave = new EventEmitter<null>();\n  @Output() attention = new EventEmitter<null>();\n  c = new Change<string>();\n\n  constructor(elm: ElementRef, private zone: NgZone) {\n    this.elm = elm.nativeElement;\n    this.elm.addEventListener('ready', e => console.log(e));\n    this.overflow = new Promise<boolean>(resolve => this.resolveOverflow = resolve);\n  }\n\n  scrollTo() {\n    this.elm.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start'\n    });\n  }\n\n  async ngOnInit() {\n    const checker = new Checker(50);\n    const io = new IntersectionObserver(() => {\n      this.inView = !this.inView;\n      if (this.inView) {\n        this.enter.emit();\n        const getRatio = function (rect: ClientRect) {\n          const w = Math.min(Math.max(rect.right, 0), window.innerWidth) - Math.max(rect.left, 0);\n          const h = Math.min(Math.max(rect.bottom, 0), window.innerWidth) - Math.max(rect.top, 0);\n          return (w * h) / Math.min(rect.width * rect.height, window.innerWidth * window.innerHeight)\n        };\n        checker.check(() => {\n          const ratio = getRatio(this.elm.getBoundingClientRect());\n          const FOCUS_RATIO = 0.35;\n          if (ratio > FOCUS_RATIO) {\n            return true;\n          }\n        }, () => {\n          this.zone.run(() => {\n            this.attention.emit();\n          });\n        }, 1);\n      } else {\n        checker.clear();\n        this.leave.emit();\n      }\n    });\n    io.observe(this.elm);\n    this.setHeight();\n    this.config.scale.change(() => {\n      this.zone.run(() => {\n        this.setHeight();\n      })\n    });\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.setHeight();\n  }\n\n  setHeight() {\n    const pages: HTMLElement = this.elm.parentElement;\n    const p = this.meta;\n    const xScale = 100;\n    const yScale = this.config.scale.get();\n    const [w, h] = [xScale / 100 * pages.offsetWidth, yScale / 100 * pages.offsetHeight];\n    const scale = Math.min(1, w / p.Width, h / p.Height);\n    return this.height = p.Height * scale;\n  }\n\n  ngOnChanges(changes) {\n  }\n\n  checkOverflow() {\n    const h = this.elm.parentElement.offsetHeight;\n    const changed = this.c.changed(`${h}.${this.height}`);\n    if (changed && h) {\n      this.overflow = new Promise<boolean>(r => r(h < this.height));\n    }\n  }\n\n  ngAfterContentChecked() {\n    this.checkOverflow();\n  }\n\n  onLoad() {\n    this.show = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/viewer/viewer.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 74;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 74\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment.prod';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component, NgZone, OnInit} from '@angular/core';\nimport args from \"./lib/args\";\nimport {AppMenu, MenuItem} from \"./lib/menu\";\nconst electron = window['require']('electron');\nconst {webFrame} = electron;\nconst {dialog, getCurrentWindow} = electron.remote;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  path: string;\n  refresh: number = 0;\n\n  constructor(private zone: NgZone, private m: AppMenu) {\n  }\n\n  whenOpen() {\n    this.m.reset();\n    const fm = this.m.file();\n    fm.append(new MenuItem({\n      label: 'Open...',\n      accelerator: 'CmdOrCtrl+O',\n      enable: true,\n      click: () => this.zone.run(() => this.open())\n    }));\n    fm.append(new MenuItem({\n      label: 'Save as...',\n      accelerator: 'CmdOrCtrl+Shift+S',\n      click(){\n        console.log('SAVE AS.');\n      }\n    }));\n    this.m.set();\n  }\n\n  async ngOnInit() {\n    webFrame.setVisualZoomLevelLimits(1, 1);\n    webFrame.setLayoutZoomLevelLimits(1, 1);\n    await args.wait();\n    const path = args.path;\n    if (!path) {\n      this.open();\n    } else {\n      this.path = path;\n      this.whenOpen();\n    }\n  }\n\n  onOk() {\n    getCurrentWindow().show();\n  }\n\n  open() {\n    this.whenOpen();\n    this.path = dialog.showOpenDialog({properties: ['openFile', 'openDirectory']}).pop();\n    this.refresh++;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {HttpModule} from '@angular/http';\n\nimport {AppComponent} from './app.component';\nimport {ViewerComponent} from './viewer/viewer.component';\nimport {TrustResourceUrlPipe} from './trust-resource-url.pipe';\nimport {ReaderComponent} from './reader/reader.component';\nimport {PageHeightPipe} from './page-height.pipe';\nimport {AppMenu} from \"./lib/menu\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ViewerComponent,\n    ReaderComponent,\n    TrustResourceUrlPipe,\n    PageHeightPipe\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [AppMenu],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","const electron = window['require']('electron');\nconst {getCurrentWindow, TouchBar} = electron.remote;\nconst {TouchBarButton, TouchBarColorPicker, TouchBarGroup, TouchBarLabel, TouchBarPopover, TouchBarSlider, TouchBarSpacer, TouchBarScrubber, TouchBarSegmentedControl} = TouchBar;\n\nconst setTouchBar = function (args: any) {\n  const win = getCurrentWindow();\n  const touchBar = new TouchBar(args);\n  win.setTouchBar(touchBar);\n};\n\nexport {\n  setTouchBar,\n  TouchBarButton,\n  TouchBarColorPicker,\n  TouchBarGroup,\n  TouchBarLabel,\n  TouchBarPopover,\n  TouchBarSlider,\n  TouchBarSpacer,\n  TouchBarSegmentedControl,\n  TouchBarScrubber,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/touchbar.ts","import {Pipe, PipeTransform} from '@angular/core';\nimport {PageMeta} from \"./reader/meta\";\n\n@Pipe({\n  name: 'pageHeight'\n})\nexport class PageHeightPipe implements PipeTransform {\n\n  transform(p: PageMeta, args?: any): any {\n    const pages: HTMLElement = args[0];\n    const xScale = 100;\n    const yScale = args[1];\n    const [w, h] = [xScale / 100 * pages.offsetWidth, yScale / 100 * pages.offsetHeight];\n    const scale = Math.min(1, w / p.Width, h / p.Height);\n    return p.Height * scale;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/page-height.pipe.ts","import {BookMeta} from \"./meta\";\nimport args from \"../lib/args\";\nimport {Config} from \"./config\";\nimport {ViewerComponent} from \"../viewer/viewer.component\";\n\nexport class Book {\n  locator: string;\n  meta: BookMeta;\n  _current: number;\n  total: number;\n  _onPage: Function[] = [];\n  _viewers: ViewerComponent[];\n\n  constructor(path: string, private config: Config) {\n    this.locator = path;\n  }\n\n  bind(viewers: ViewerComponent[]) {\n    this._viewers = viewers;\n  }\n\n  get current(): number {\n    return this._current;\n  }\n\n  set current(page: number) {\n    const old = this._current;\n    this._current = page;\n    this._onPage.forEach(cb => cb(page, old));\n  }\n\n  async init(): Promise<any> {\n    await args.wait();\n    const url = new URL(`http://localhost:${args.port}/book`);\n    url['searchParams'].append('locator', this.locator);\n    const data = await fetch(url.href);\n    this.meta = await data.json();\n    if (!this.meta.Pages) {\n      return 'no pages';\n    }\n    this.total = this.meta.Pages.length;\n    this.current = 1;\n  }\n\n  private checkPage(page: number) {\n    if (page > 0 && page <= this.total) {\n      return true;\n    }\n  }\n\n  updateCurrent(page: number): boolean {\n    const ok = this.checkPage(page);\n    if (ok) {\n      this.current = page;\n    }\n    return ok;\n  }\n\n  go(pageOrOffset: number, relative: boolean = false): boolean {\n    const page = relative ? this.current + pageOrOffset : pageOrOffset;\n    const ok = this.checkPage(page);\n    if (ok) {\n      const viewer = this._viewers[page - 1];\n      if (this.config.isSinglePage()) {\n        this.current = page;\n        setTimeout(() => {\n          viewer.scrollTo();\n        }, 0);\n      } else {\n        viewer.scrollTo();\n      }\n    }\n    return ok;\n  }\n\n  prev(page?: number): boolean {\n    return this.go((page || 0) - 1, !page);\n  }\n\n  next(page?: number): boolean {\n    return this.go((page || 0) + 1, !page);\n  }\n\n  getPageFilePath(id: string) {\n    const url = new URL(`http://localhost:${args.port}/book/page`);\n    url['searchParams'].append('locator', this.locator);\n    url['searchParams'].append('page', id);\n    return url.href;\n  }\n\n  onPage(callback: (n?: number, old?: number) => void) {\n    this._onPage.push(callback);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/book.ts","export class PageMeta {\n  Id: string;\n  Name: string;\n  Width: number;\n  Height: number;\n  Type: string;\n}\n\nexport class BookMeta {\n  Id: string;\n  Locator: string;\n  Name: string;\n  Author: string;\n  Publisher: string;\n  Pages: PageMeta[]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/meta.ts","import {\n  Component, OnInit, Input, HostListener, NgZone, OnChanges, ViewChildren, QueryList,\n  Output, EventEmitter\n} from '@angular/core';\nimport {\n  setTouchBar,\n  TouchBarButton,\n  TouchBarSlider,\n  TouchBarSegmentedControl,\n  TouchBarScrubber\n} from \"../lib/touchbar\";\nimport {ABMap, RustyLock} from \"../lib/util\";\nimport {Book} from \"./book\";\nimport {ViewerComponent} from \"../viewer/viewer.component\";\nimport {Config} from \"./config\";\nimport {AppMenu} from \"../lib/menu\";\nconst fs = window['require']('fs');\nconst {Menu, MenuItem} = window['require']('electron').remote;\n\n@Component({\n  selector: 'reader',\n  templateUrl: './reader.component.html',\n  styleUrls: ['./_common.css', './_pages.css', './_layer.css'],\n})\nexport class ReaderComponent implements OnInit, OnChanges {\n\n  @Input() path: string;\n  @Input() refresh: number;\n  book: Book;\n  scale: number = 133;\n  config: Config;\n  @Output() ok = new EventEmitter<null>();\n  @Output() fail = new EventEmitter<any>();\n\n  @ViewChildren(ViewerComponent) viewers: QueryList<ViewerComponent>;\n\n  // todo: multi-viewer: cache and better loading\n\n  @HostListener('window:contextmenu', ['$event']) onRightClick() {\n  }\n\n  constructor(private zone: NgZone, private m: AppMenu) {\n    this.config = new Config();\n  }\n\n  async ngOnInit() {\n  }\n\n  async ngOnChanges(changes) {\n    if (changes.path && this.path || this.refresh) {\n      this.book = new Book(this.path, this.config);\n      let e = await this.book.init();\n      if (e) {\n        this.fail.emit(e);\n        return;\n      }\n      this.ok.emit();\n      this.viewers.changes.subscribe(() => {\n        this.book.bind(this.viewers.map(v => v));\n      });\n\n      const barScaleMap = new ABMap(Config.SCALE_ALL);\n      const barViewMap = new ABMap(Config.VIEW_ALL);\n\n      const setView = i => {\n        this.zone.run(() => {\n          this.config.view.set(barViewMap.getB(i));\n        });\n      };\n      const setScale = i => {\n        this.zone.run(() => {\n          this.config.scale.set(barScaleMap.getB(i));\n        });\n      };\n\n      // menu\n      const vm = this.m.view();\n      const append = (vm, ...itemsArr) => {\n        itemsArr.forEach(items => {\n          vm.append(new MenuItem({type: 'separator'}));\n          items.forEach(item => vm.append(item));\n        });\n      };\n      const viewItems = ['Continuous Scroll', 'Single Page'].map((label, i) => new MenuItem({\n        label,\n        accelerator: `CmdOrCtrl+${i + 1}`,\n        type: 'radio',\n        click: () => setView(i),\n        checked: barViewMap.getA(this.config.view.get()) === i,\n      }));\n      const scaleItems = ['Full Page', 'Default', 'Width FullFilled'].map((label, i) => new MenuItem({\n        label,\n        accelerator: `CmdOrCtrl+Alt+${i + 1}`,\n        type: 'radio',\n        click: () => setScale(i),\n        checked: barScaleMap.getA(this.config.scale.get()) === i,\n      })).concat([new MenuItem({\n        label: 'Zoom In',\n        accelerator: 'CmdOrCtrl+Plus'\n      }), new MenuItem({\n        label: 'Zoom Out',\n        accelerator: 'CmdOrCtrl+-'\n      })\n      ]);\n      const goItems = ['First Page', 'Previous Page', 'Next Page'].map((label, i) => new MenuItem({\n        label,\n        accelerator: [null, 'Left', 'Right'][i],\n        click: () => {\n          this.zone.run(() => {\n            switch (i) {\n              case 0:\n                this.book.go(1);\n                break;\n              case 1:\n                this.book.prev();\n                break;\n              case 2:\n                this.book.next();\n                break;\n            }\n          })\n        }\n      }));\n      append(vm, viewItems, scaleItems, goItems);\n      this.m.set();\n\n      // touchBar\n      const getProgressStr = (current: number = this.book.current) => current + '/' + this.book.total;\n      const lock = new RustyLock();\n      const slider = new TouchBarSlider({\n        label: getProgressStr(),\n        value: this.book.current,\n        minValue: 1,\n        maxValue: this.book.total,\n        change: (current: number) => {\n          slider.label = getProgressStr(current);\n          this.zone.run(() => this.book.go(current));\n          lock.lock(175);\n        }\n      });\n      const viewCtrl = new TouchBarSegmentedControl({\n        segments: [\n          {label: 'Scroll'},\n          {label: 'Single'},\n        ],\n        selectedIndex: barViewMap.getA(this.config.view.get()),\n        change: i => setView(i)\n      });\n      const scaleCtrl = new TouchBarSegmentedControl({\n        segments: [\n          {label: 'Page'},\n          {label: 'Default'},\n          {label: 'Width'},\n        ],\n        selectedIndex: barScaleMap.getA(this.config.scale.get()),\n        change: i => setScale(i)\n      });\n      this.book.onPage((current) => {\n        lock.run(() => {\n          slider.value = current;\n          slider.label = getProgressStr(current);\n        })\n      });\n      setTouchBar([\n        viewCtrl,\n        // new TouchBarButton({label: 'Page 1', click: () => this.zone.run(() => this.book.go(1))}),\n        slider,\n        // new TouchBarScrubber({\n        //   items: (new Array(this.book.total)).fill(1).map((v, i) => '' + i).map(i => ({label: i})),\n        //   highlight: index => console.log('touchBar scrubber:', index),\n        //   mode: 'free',\n        //   selectedStyle: 'outline',\n        // }),\n        scaleCtrl,\n        // new TouchBarButton({label: 'ZoomOut', click: () => this.zoom(-10)}),\n      ]);\n\n      this.config.view.change(n => {\n        const index = Config.VIEW_ALL.indexOf(n);\n        viewItems.filter((item, i) => i === index).forEach(item => item.checked = true);\n        viewCtrl.selectedIndex = index;\n        // hack scale\n        if (n === Config.VIEW_CONTINUOUS_SCROLL) {\n          const viewer = this.viewers.filter((v, i) => i + 1 === this.book.current)[0];\n          setTimeout(() => {\n            viewer.scrollTo();\n          }, 0);\n        }\n      });\n      this.config.scale.change(n => {\n        const index = Config.SCALE_ALL.indexOf(n);\n        scaleItems.filter((item, i) => i === index).forEach(item => item.checked = true);\n\n      });\n    }\n  }\n\n  zoom(percent: number) {\n    this.scale += percent;\n    console.log(this.scale)\n  }\n\n  // @HostListener('window:keydown.arrowUp', ['$event'])\n  // @HostListener('window:keydown.arrowLeft', ['$event'])\n  @HostListener('window:keydown.pageUp', ['$event'])\n  prev() {\n    if (this.book) {\n      this.zone.run(() => {\n        this.book.prev();\n      });\n    }\n  };\n\n  // @HostListener('window:keydown.arrowDown', ['$event'])\n  // @HostListener('window:keydown.arrowRight', ['$event'])\n  @HostListener('window:keydown.pageDown', ['$event'])\n  next() {\n    if (this.book) {\n      this.zone.run(() => {\n        this.book.next();\n      });\n    }\n  };\n\n  @HostListener('window:resize', ['$event']) onResize() {\n    console.warn('RESIZED!');\n  }\n\n  inCacheRange(page: number): boolean {\n    // let distance = 1e10;\n    // this.recorder.stack.map(id => parseInt(id)).forEach(p => {\n    //   const d = p - page;\n    //   if (Math.abs(d) < Math.abs(distance)) {\n    //     distance = d;\n    //   }\n    // });\n    const distance = page - this.book.current;\n    const BACKWARD = 3;\n    const FORWARD = 7;\n    return -1 * BACKWARD <= distance && distance <= FORWARD;\n  }\n\n  @HostListener('click', ['$event']) onClick() {\n    this.book.next()\n  }\n\n  @HostListener('contextmenu', ['$event']) onContextMenu() {\n    this.book.prev();\n  }\n\n  // @HostListener('window:mousewheel', ['$event'])\n  // async onWheel(e) {\n  // if (e.deltaY > 0) {\n  //   await this.next();\n  // } else {\n  //   await this.prev();\n  // }\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/reader.component.ts","import {Pipe, PipeTransform} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({\n  name: 'trustResourceUrl'\n})\nexport class TrustResourceUrlPipe implements PipeTransform {\n  sanitizer: DomSanitizer;\n\n  constructor(_s: DomSanitizer) {\n    this.sanitizer = _s;\n  }\n\n  transform(value: any, args?: any): any {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/trust-resource-url.pipe.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.prod.ts"],"sourceRoot":""}