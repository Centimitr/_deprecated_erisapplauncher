{"version":3,"sources":["webpack:///./src/app/app.component.css","webpack:///./src/app/dot/dot.component.css","webpack:///./src/app/image/image.component.css","webpack:///./src/app/reader/_common.css","webpack:///./src/app/reader/_layer.css","webpack:///./src/app/reader/_pages.css","webpack:///./src/app/scroll/scroll.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/dot/dot.component.html","webpack:///./src/app/image/image.component.html","webpack:///./src/app/reader/reader.component.html","webpack:///./src/app/scroll/scroll.component.html","webpack:///./src/app/config.service.ts","webpack:///./src/app/lib/util.ts","webpack:///./src/app/lib/menu.ts","webpack:///./src/app/lib/storage.ts","webpack:///./src/app/image/image.component.ts","webpack:///./src/app/image/range.ts","webpack:///./src/app/lib/args.ts","webpack:///./src/app/reader/book.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/dot/dot.component.ts","webpack:///./src/app/image/scale.ts","webpack:///./src/app/lib/get.ts","webpack:///./src/app/lib/time.ts","webpack:///./src/app/lib/touchbar.ts","webpack:///./src/app/reader/reader.component.ts","webpack:///./src/app/scroll/cache-manager.ts","webpack:///./src/app/scroll/scroll.component.ts","webpack:///./src/app/scroll/view-mode.ts","webpack:///./src/app/trust-resource-url.pipe.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".titlebar {\\n  height: 38px;\\n  -webkit-app-region: drag;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  opacity: 0;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 38px;\\n  color: #ccc;\\n  text-shadow: 0 0 1px black;\\n  -webkit-transition: opacity 125ms ease-in-out;\\n  transition: opacity 125ms ease-in-out;\\n}\\n\\n.titlebar:hover {\\n  opacity: 1;\\n  background-color: rgba(0, 0, 0, 0.9);\\n}\\n\\nreader {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n/*section.cover {*/\\n  /*position: fixed;*/\\n  /*top: 0;*/\\n  /*right: 0;*/\\n  /*bottom: 0;*/\\n  /*left: 0;*/\\n  /*z-index: 1;*/\\n  /*background-color: red;*/\\n  /*display: flex;*/\\n  /*align-items: center;*/\\n  /*justify-content: center;*/\\n/*}*/\\n\\n/*section.cover img {*/\\n/*}*/\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 150\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  display: inline;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dot/dot.component.css\n// module id = 151\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  position: relative;\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n}\\n\\n.loading {\\n  z-index: -1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  /*color: white;*/\\n  font-family: \\\"American Typewriter\\\", monospace;\\n  opacity: 0.62;\\n  -webkit-transition: opacity 275ms ease-in;\\n  transition: opacity 275ms ease-in;\\n}\\n\\n.loading.hide {\\n  opacity: 0;\\n}\\n\\n.loading.singlePage {\\n  position: fixed;\\n}\\n\\n.loading .words {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-flow: column nowrap;\\n          flex-flow: column nowrap;\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.loading .words .page {\\n  font-size: 4vh;\\n  margin-bottom: 1vh;\\n}\\n\\n.loading .words .status {\\n  font-size: 2.5vh;\\n  opacity: 0.8;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/image/image.component.css\n// module id = 152\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"::-webkit-scrollbar {\\n  width: 0;\\n  height: 0;\\n}\\n\\n:host {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/_common.css\n// module id = 153\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".layer {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  pointer-events: none;\\n}\\n\\n.layer .panel {\\n  position: absolute;\\n  background-color: #111;\\n  border-radius: 10px;\\n  border: 1px solid #222;\\n  color: #aaa;\\n  padding: 8px 12px 8px 12px;\\n  font-family: \\\"PingFang SC\\\", sans-serif;\\n  text-shadow: 0 0 2px black;\\n  font-size: 16px;\\n}\\n\\n.progress {\\n  display: inline-block;\\n  top: 18px;\\n  right: 18px;\\n}\\n\\n.ctrl {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: stretch;\\n      -ms-flex-align: stretch;\\n          align-items: stretch;\\n}\\n\\n.ctrl .panel {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n}\\n\\n.loading {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  opacity: 0;\\n  -webkit-transition: 275ms;\\n  transition: 275ms;\\n}\\n\\n.loading.show {\\n  opacity: 1;\\n}\\n\\n.loading .word {\\n  font-size: 38px;\\n  color: #444;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/_layer.css\n// module id = 154\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"section.pages {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-flow: column nowrap;\\n          flex-flow: column nowrap;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  overflow-scrolling: touch;\\n  scroll-behavior: smooth;\\n  opacity: 1;\\n}\\n\\nsection.pages.hide {\\n  opacity: 0;\\n}\\n\\nviewer {\\n  width: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/_pages.css\n// module id = 155\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".hidden {\\n  display: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/scroll/scroll.component.css\n// module id = 156\n// module chunks = 1","module.exports = \"<reader [path]=\\\"path\\\" [refresh]=\\\"refresh\\\" (ok)=\\\"onOk()\\\" (fail)=\\\"open($event)\\\"></reader>\\n<header class=\\\"titlebar\\\" (dblclick)=\\\"zoom()\\\" (contextmenu)=\\\"onContextMenu($event, titleBar)\\\" #titleBar>{{getTitle()}}</header>\\n<!--<section class=\\\"cover\\\" *ngIf=\\\"cover.show\\\" #c>-->\\n  <!--<img-->\\n    <!--*ngIf=\\\"cover.dataUrl\\\"-->\\n    <!--[src]=\\\"cover.dataUrl\\\"-->\\n    <!--[height]=\\\"c.offsetHeight*cover.scale/100\\\"-->\\n    <!--[width]=\\\"c.offsetWidth*cover.scale/100\\\"-->\\n  <!--&gt;-->\\n<!--</section>-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 161\n// module chunks = 1","module.exports = \"{{word}}<span></span>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dot/dot.component.html\n// module id = 162\n// module chunks = 1","module.exports = \"<div class=\\\"loading\\\" [class.singlePage]=\\\"config.isSinglePage()\\\">\\n  <div class=\\\"words\\\">\\n    <div class=\\\"page\\\">Page {{page}}</div>\\n    <div class=\\\"status\\\">loading...</div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/image/image.component.html\n// module id = 163\n// module chunks = 1","module.exports = \"<section class=\\\"pages\\\" #pages [class.hide]=\\\"loadingShow\\\">\\n  <cm-scroll style=\\\"width: 100%;\\\" [book]=\\\"book\\\"></cm-scroll>\\n</section>\\n<section class=\\\"layer\\\">\\n  <section class=\\\"panel progress\\\" *ngIf=\\\"book?.total\\\">\\n    <span>{{book?.current}}</span>\\n    <span style=\\\"opacity: 0.8;margin: 0 -2px;\\\">/</span>\\n    <span style=\\\"opacity: 0.95\\\">{{book?.total}}</span>\\n  </section>\\n  <section class=\\\"loading\\\" [class.show]=\\\"loadingShow\\\">\\n    <cm-dot class=\\\"word\\\" [word]=\\\"'Book Loading'\\\" [interval]=\\\"500\\\"></cm-dot>\\n  </section>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/reader.component.html\n// module id = 164\n// module chunks = 1","module.exports = \"<div [hidden]=\\\"config.isSinglePage()&&config.isMaxlHeight()\\\"\\n     style=\\\"height: 5vh; width: 100%;\\\"></div>\\n<cm-image *ngFor=\\\"let p of book?.pages(); let i=index;\\\"\\n          [style.marginBottom.vh]=\\\"config.isSinglePage()&&config.isMaxlHeight()?0:5\\\"\\n          [page]=\\\"i+1\\\"\\n          [src]=\\\"book.getPageFilePath(p.Locator)\\\"\\n></cm-image>\\n<div style=\\\"height: 0; width: 100%;\\\"></div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/scroll/scroll.component.html\n// module id = 165\n// module chunks = 1","import {Injectable} from \"@angular/core\";\nimport {Scale} from \"./image/scale\";\nlet cnt = 0;\nconst pt = v => console.log(cnt++, v);\n\nexport interface CheckInterface {\n  ok: boolean;\n  err?: string;\n  correctedValue?: any;\n}\n\nexport class ConfigItem<T> {\n  private listeners = [];\n  protected value: any;\n  private _lock: boolean = false;\n\n  constructor(v?: T) {\n    this.value = v;\n  }\n\n  set(v: T): boolean {\n    if (this._lock) return false;\n    const old = this.value;\n    if (old !== v) {\n      this.value = v;\n      setTimeout(() => {\n        this.listeners.forEach(cb => cb(this.value, old));\n      }, 0);\n    }\n    return true;\n  }\n\n  get(): T {\n    return this.value;\n  }\n\n  is(v: T): boolean {\n    return this.value === v;\n  }\n\n  lock() {\n    this._lock = true;\n  }\n\n  unlock() {\n    this._lock = false;\n  }\n\n  clear() {\n    this.listeners = [];\n  }\n\n  change(cb: Function) {\n    this.listeners.push(cb);\n  }\n\n  toValue(): T {\n    return this.value;\n  }\n\n  toString() {\n    return this.toValue().toString();\n  }\n}\n\nexport class ConfigRangedItem extends ConfigItem<number> {\n  public min: number;\n  public max: number;\n\n  constructor(v: number, min: number, max: number) {\n    super(v);\n    [this.min, this.max] = [min, max];\n  }\n\n  setRange(min, max) {\n    if (min >= max) console.error('min should be smaller than max:', min, max);\n    [this.min, this.max] = [min, max];\n    if (this.value < this.min) this.set(this.min);\n    else if (this.value > this.max) this.set(this.max);\n  }\n\n  inRange(v: number) {\n    return this.min <= v && v <= this.max;\n  }\n\n  set(v: number): boolean {\n    if (this.inRange(v)) return super.set(v);\n    else return false;\n  }\n}\n\n@Injectable()\nexport class Config {\n\n  recentlyEnjoyedLen: number = 10;\n  scrollDirection: boolean = true;\n\n  // appearance\n  ui: any = {\n    view: {\n      before: 5,\n      after: 0,\n      eachAfter: 5,\n      zoomUnit: 5\n    }\n  };\n\n  clear() {\n    this.pinch.clear();\n    this.view.clear();\n  }\n\n  pinch = new ConfigItem<number>(1);\n\n  // scale\n  static SCALE_DEFAULT = new Scale(null, 100, null, 150);\n  static SCALE_MAXHEIGHT = new Scale(null, 100, null, 100);\n  static SCALE_FULLWIDTH = new Scale(100, 100, null, null);\n  static SCALE_ALL: Scale[] = [Config.SCALE_MAXHEIGHT, Config.SCALE_DEFAULT, Config.SCALE_FULLWIDTH];\n  scale = new ConfigItem<Scale>(Config.SCALE_DEFAULT);\n\n  // mode\n  // mode = new ConfigItem<number>(Config.MODE_DEFAULT);\n  // static MODE_DEFAULT: number = 0;\n  // static MODE_FULL_HEIGHT: number = 1;\n  // static MODE_FULL_WIDTH: number = 2;\n  // static MODE_ALL: number[] = [Config.MODE_FULL_HEIGHT, Config.MODE_DEFAULT, Config.MODE_FULL_WIDTH];\n\n  // scale\n  // defaultScale: number = 150;\n  // scale = new ConfigRangedItem(this.defaultScale, 100, 100000);\n  // private _onSetScaleConstraint: Function[] = [];\n\n  // onSetScaleConstraint(cb: Function) {\n  //   this._onSetScaleConstraint.push(cb);\n  // }\n\n  // setScaleConstraint(book: Book, reader: HTMLElement, viewers: QueryList<ViewerComponent>) {\n  //   if (book.meta.Pages.length && viewers.length) {\n  //     const vw = Math.max(...viewers.map(v => v.elm.offsetWidth));\n  //     const vh = Math.max(...viewers.map(v => v.elm.offsetHeight));\n  // const imgWs = viewers.map(v => v.oriWidth).filter(v => v);\n  // const imgHs = viewers.map(v => v.oriHeight).filter(v => v);\n  // if (!imgWs.length || !imgHs.length) return;\n  // const MIN_HEIGHT_PROPORTION = 65;\n  // const MIN_WIDTH_PROPORTION = 30;\n  // this.scale.setRange(100 * 375 / reader.offsetHeight, 100 * reader.offsetWidth / Math.min(...imgWs));\n  // this._onSetScaleConstraint.forEach(cb => cb(this.scale.min, this.scale.max));\n  // }\n  // }\n\n  // isFullWidth(): boolean {\n  //   return this.mode.is(Config.MODE_FULL_WIDTH);\n  // }\n  //\n  // whenFullWidth(v: any): boolean {\n  //   if (this.isFullWidth()) {\n  //     return v;\n  //   }\n  // }\n  //\n  // whenNotFullWidth(v: any): boolean {\n  //   if (!this.isFullWidth()) {\n  //     return v;\n  //   }\n  // }\n  //\n  isMaxlHeight(): boolean {\n    return this.scale.is(Config.SCALE_MAXHEIGHT);\n  }\n\n  // view\n  view = new ConfigItem<number>(Config.VIEW_SINGLE_PAGE);\n  static VIEW_CONTINUOUS_SCROLL: number = 0;\n  static VIEW_SINGLE_PAGE: number = 1;\n  static VIEW_ALL: number[] = [Config.VIEW_CONTINUOUS_SCROLL, Config.VIEW_SINGLE_PAGE];\n\n  isContinuousScroll(): boolean {\n    return this.view.get() === Config.VIEW_CONTINUOUS_SCROLL;\n  }\n\n  whenContinuousScroll(v: any) {\n    if (this.isContinuousScroll()) {\n      return v;\n    }\n  }\n\n  isSinglePage(): boolean {\n    return this.view.is(Config.VIEW_SINGLE_PAGE);\n  }\n\n  // mixed\n  // whenSinglePageNotFullHeight(v: any) {\n  //   if (this.isSinglePage() && !this.isFullHeight()) return v;\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/config.service.ts","import Timer = NodeJS.Timer;\nimport {time} from \"./time\";\n\nexport class RustyLock {\n  finishTime: number = 0;\n\n  constructor() {\n  }\n\n  lock(interval: number) {\n    this.finishTime = Date.now() + interval;\n  }\n\n  run(cb: Function) {\n    if (Date.now() > this.finishTime) {\n      cb();\n    }\n  }\n}\n\nexport class Checker {\n  timer: Timer;\n\n  constructor(private freq: number) {\n  }\n\n  check(checkFn: () => boolean, cb: () => any, times: number = -1) {\n    const call = () => {\n      if (checkFn()) {\n        if (times > 0) {\n          times--;\n        }\n        cb();\n        if (times === 0) {\n          this.clear();\n        }\n      }\n    };\n    call();\n    this.timer = setInterval(() => {\n      call();\n    }, this.freq)\n  }\n\n  clear() {\n    clearInterval(this.timer);\n  }\n}\n\nexport class ABMap {\n  mapA: Map<any, any> = new Map();\n  mapB: Map<any, any> = new Map();\n\n  constructor(enumArr?: any[]) {\n    if (enumArr) {\n      enumArr.forEach((item, i) => this.set(i, item));\n    }\n  }\n\n  set(a: any, b: any) {\n    this.mapA.set(a, b);\n    this.mapB.set(b, a);\n  }\n\n  getA(b: any) {\n    return this.mapB.get(b);\n  }\n\n  getB(a: any) {\n    return this.mapA.get(a);\n  }\n}\n\nexport class Semaphore {\n  initial: number;\n\n  constructor(private permits: number) {\n    this.initial = permits;\n  }\n\n  set(p: number) {\n    this.permits = p;\n  }\n\n  reset(): number {\n    return this.permits = this.initial;\n  }\n\n  get(): number {\n    return this.permits;\n  }\n\n  wait(success?: Function, error?: Function): boolean {\n    if (this.permits > 0) {\n      success && success();\n      this.permits--;\n      return true;\n    } else {\n      error && error();\n      return false;\n    }\n  }\n\n  release(): number {\n    this.permits++;\n    return this.permits;\n  }\n}\n\nexport class Change<T> {\n  v: T;\n\n  constructor(initial?: T) {\n    this.v = initial;\n  }\n\n  changed(n: T): boolean {\n    if (n !== this.v) {\n      this.v = n;\n      return true;\n    }\n    return false;\n  }\n}\n\nexport class LRU {\n  constructor(private q: any[], public size: number, private cmp?: Function) {\n    this.checkSize();\n  }\n\n  checkSize() {\n    this.q.splice(this.size);\n  }\n\n  add(v: any) {\n    this.q = this.q.filter(item => !this.cmp(v, item));\n    this.q.unshift(v);\n    this.checkSize();\n    return this.get();\n  }\n\n  get() {\n    return this.q;\n  }\n}\n\nexport class LatestRunner {\n  busy: boolean = false;\n  wait: () => Promise<any>;\n\n  async run(fn: () => Promise<any>) {\n    if (!this.busy) {\n      this.busy = true;\n      await fn();\n      if (this.wait) {\n        await this.wait();\n        this.wait = null;\n      }\n      this.busy = false;\n    } else {\n      // console.log('busy so wait');\n      this.wait = fn;\n    }\n  }\n\n  async runp(p: Promise<any>) {\n    const fn = () => p;\n    await this.run(fn);\n  }\n}\n\nexport class Timeout {\n  t: number;\n\n  constructor() {\n    this.t = time.Now();\n  }\n\n  timeout(delay: number): Promise<void> {\n    return new Promise<void>(resolve => {\n      const since = time.Since(this.t);\n      const d = since > delay ? 0 : delay - since;\n      setTimeout(() => {\n        resolve();\n      }, d)\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/util.ts","import {Injectable} from \"@angular/core\";\nconst electron = window['require']('electron');\nconst {app, Menu, MenuItem, BrowserWindow} = electron.remote;\nconst process = window['process'];\n\nconst alwaysOnTopItem = {\n  label: 'Always on Top',\n  type: 'checkbox',\n  checked: false,\n  click(item, win) {\n    win.setAlwaysOnTop(!win.isAlwaysOnTop());\n    item.checked = win.isAlwaysOnTop();\n  }\n};\nconst getTemplate = function () {\n  const template: any = [\n    {\n      label: 'File',\n      submenu: []\n    }, {\n      label: 'Catalogue',\n      submenu: []\n    }, {\n      label: 'View',\n      submenu: []\n    },\n    {\n      role: 'window',\n      submenu: [\n        {\n          role: 'minimize'\n        },\n        {\n          role: 'close'\n        }\n      ]\n    },\n    {\n      role: 'help',\n      submenu: [\n        {\n          label: 'Learn More',\n          click () {\n            electron.shell.openExternal('http://erisapp.com');\n          }\n        }, {\n          label: 'Credits',\n          click(){\n            electron.shell.openExternal('http://erisapp.com/credits');\n          }\n        }, {\n          label: 'Feedback',\n          click(){\n            electron.shell.openExternal('http://erisapp.com/feedback');\n          }\n        }, {\n          label: 'Feature Request',\n          click(){\n            electron.shell.openExternal('http://erisapp.com/featurerequrest');\n          }\n        }\n      ]\n    }\n  ];\n  if (process.platform === 'darwin') {\n    template.unshift({\n      label: app.getName(),\n      submenu: [\n        {\n          role: 'about'\n        }, {\n          type: 'separator'\n        },\n        {\n          role: 'services',\n          submenu: []\n        },\n        {\n          type: 'separator'\n        },\n        {\n          role: 'hide'\n        },\n        {\n          role: 'hideothers'\n        },\n        {\n          role: 'unhide'\n        },\n        {\n          type: 'separator'\n        },\n        {\n          role: 'quit'\n        }\n      ]\n    });\n    // Window menu.\n    template[4].submenu = [\n      {\n        label: 'Close',\n        accelerator: 'CmdOrCtrl+W',\n        role: 'close'\n      },\n      {\n        label: 'Minimize',\n        accelerator: 'CmdOrCtrl+M',\n        role: 'minimize'\n      }, {\n        type: 'separator'\n      }, {\n        role: 'togglefullscreen'\n      }, {\n        label: 'Zoom',\n        accelerator: 'Ctrl+Cmd+=',\n        role: 'zoom'\n      }, {\n        label: 'Center',\n        click(item, win){\n          win.center();\n        }\n      }, alwaysOnTopItem, {\n        type: 'separator'\n      }, {\n        label: 'Background',\n        enabled: false\n      }, {\n        label: 'Light',\n        type: 'radio',\n        click(item, win){\n          document.body.style.backgroundColor = null;\n          win.setVibrancy('light');\n        }\n      }, {\n        label: 'Dark',\n        type: 'radio',\n        click(item, win){\n          win.setVibrancy('medium-light');\n          document.body.style.backgroundColor = 'rgba(0,0,0,.7)';\n        }\n      }, {\n        label: 'Book Paper',\n        type: 'radio',\n        click(){\n          document.body.style.backgroundColor = '#f8f4ea';\n        }\n      }, {\n        label: 'Silver Gray',\n        type: 'radio',\n        click(){\n          document.body.style.backgroundColor = '#dedede';\n        }\n      }, {\n        label: 'Deep Black',\n        type: 'radio',\n        click(){\n          document.body.style.backgroundColor = '#171717';\n        }\n      }, {\n        type: 'separator'\n      }, {\n        label: 'Bring All to Front',\n        role: 'front'\n      }\n    ];\n    // if (1) {\n    //   template[4].submenu.push({\n    //     label: 'Developer Tools',\n    //     accelerator: 'Cmd+Alt+I',\n    //     role: 'toggledevtools'\n    //   });\n    // }\n  }\n  return Menu.buildFromTemplate(template);\n};\n\nexport {\n  Menu,\n  MenuItem,\n  alwaysOnTopItem\n}\n\n@Injectable()\nexport class AppMenu {\n  current: any = getTemplate();\n\n  get() {\n    return this.current;\n  }\n\n  getSubMenu(index: number) {\n    return this.current.items[index].submenu;\n  }\n\n  file() {\n    return this.getSubMenu(1);\n  }\n\n  catalogue() {\n    return this.getSubMenu(2);\n  }\n\n  view() {\n    return this.getSubMenu(3);\n  }\n\n  set() {\n    Menu.setApplicationMenu(this.current);\n  }\n\n  reset() {\n    this.current = getTemplate();\n    this.set();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/menu.ts","export interface KeyValue<T, U> {\n  key: T;\n  value: U;\n}\n\nexport class AppStorageValue {\n  private v: any;\n  private cached: boolean = false;\n  private _onChange: Function[] = [];\n\n  constructor(public k: string, private driver: AppStorage) {\n  }\n\n  get(defaultValue?: any) {\n    if (!this.cached) {\n      this.v = this.driver.read(this.k, defaultValue);\n      this.cached = true;\n    }\n    return this.v;\n  }\n\n  set(v: any) {\n    const old = this.v;\n    this.v = v;\n    this.cached = true;\n    this.driver.write(this.k, v);\n    if (old !== v) {\n      this._onChange.forEach(cb => cb(v, old));\n    }\n  }\n\n  onChange(cb: Function) {\n    this._onChange.push(cb);\n  }\n\n  clearCache() {\n    this.v = null;\n    this.cached = false;\n  }\n}\n\nexport class AppStorage {\n  m = new Map<string, AppStorageValue>();\n  s = window.localStorage;\n\n  write(key: string, value: any) {\n    return this.s.setItem(key, JSON.stringify(value));\n  }\n\n  read(key: string, defaultValue: any = null): any {\n    const v = this.s.getItem(key);\n    return JSON.parse(v !== null ? v : typeof defaultValue === 'string' ? defaultValue : JSON.stringify(defaultValue));\n  }\n\n  get(key: string) {\n    const exists = this.m.has(key);\n    if (!exists) {\n      this.m.set(key, new AppStorageValue(key, this));\n    }\n    return this.m.get(key);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/storage.ts","import {Component, ElementRef, Input, OnInit} from \"@angular/core\";\nimport {Range} from \"./range\";\nimport {Config} from \"../config.service\";\nimport {Scale} from \"./scale\";\nimport {Size} from \"./size\";\nconst clearCache = window['require']('electron').webFrame.clearCache;\nconst createImageBitmap = window['createImageBitmap'];\nconst fetch = async function (url: string) {\n  const res = await window.fetch(url);\n  const img = await res.blob();\n  return await createImageBitmap(img);\n};\nconst bitmapToCanvas = function (ib: any) {\n  const canvas = document.createElement('canvas');\n  canvas.height = ib.height;\n  canvas.width = ib.width;\n  const ctx = canvas.getContext('2d');\n  ctx.drawImage(ib, 0, 0);\n  ib.close();\n  return canvas;\n};\nconst px = function (v: number) {\n  return v + 'px';\n};\n\n@Component({\n  selector: 'cm-image',\n  templateUrl: './image.component.html',\n  styleUrls: ['./image.component.css']\n})\nexport class ImageComponent implements OnInit {\n  @Input() src: string;\n  @Input() page: number;\n  elm: any;\n  loading: any;\n\n  constructor(elm: ElementRef, private config: Config) {\n    this.elm = elm.nativeElement;\n    this.setHeight(375);\n    this.config.scale.change(() => this.resize());\n  }\n\n  async ngOnInit() {\n    this.loading = this.elm.querySelector('.loading');\n  }\n\n  canvas: any;\n  size: Size;\n  showing: boolean = false;\n  showLock: boolean = false;\n  reject: boolean = false;\n  private _height: number;\n\n  private async cache() {\n    try {\n      this.reject = false;\n      if (!this.canvas) {\n        let ib = await fetch(this.src);\n        if (this.reject) {\n          return\n        }\n        this.canvas = bitmapToCanvas(ib);\n        ib = null;\n        this.size = {w: this.canvas.width, h: this.canvas.height};\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  async paint() {\n    if (!this.showing && !this.showLock) {\n      this.showLock = true;\n      await this.cache();\n      if (this.reject) return;\n      this.resize(false);\n      this.elm.appendChild(this.canvas);\n      this.canvas.style.boxShadow = '0 0 12px 4px rgba(0,0,0,.382)';\n      this.canvas.style.border = '1px solid rgba(0,0,0,.382)';\n      this.showing = true;\n      this.loading.classList.add('hide');\n      this.showLock = false;\n    }\n  }\n\n  resize(checkOverflow: boolean = true) {\n    if (!this.canvas) return;\n    try {\n      const p = this.elm.parentNode.parentNode;\n      const mode: Scale = this.config.scale.get();\n      let s = mode.calc({\n        w: p.offsetWidth,\n        h: p.offsetHeight\n      }, this.size);\n      this.canvas.style.zoom = s;\n      this.setHeight(this.size.h * s);\n      if (checkOverflow) this.checkOverflow();\n    } catch (e) {\n      console.warn(e);\n      // this catch is because when submenu changing, parentNode may be null\n    }\n  }\n\n  checkOverflow() {\n    try {\n      if (this.config.isSinglePage()) {\n        const p = this.elm.parentNode.parentNode;\n        const threshold = p.clientHeight - window.innerHeight * (5 + 5) / 100;\n        const shouldCenter = threshold > this._height;\n        if (shouldCenter) {\n          const offset = (threshold - this._height) / 2;\n          this.elm.style.marginTop = px(offset);\n          return;\n        }\n      }\n      this.elm.style.marginTop = null;\n    } catch (e) {\n    }\n  }\n\n  clear() {\n    this.reject = true;\n    if (this.canvas) {\n      const parent = this.canvas.parentNode;\n      if (parent) parent.removeChild(this.canvas);\n      this.showing = false;\n      this.loading.classList.remove('hide');\n      this.canvas = null;\n    }\n  }\n\n  show() {\n    this.checkOverflow();\n    this.elm.style.display = 'flex';\n    return this;\n  }\n\n  hide() {\n    this.elm.style.display = 'none';\n    return this;\n  }\n\n  distance(): number {\n    try {\n      const min = this.elm.offsetTop - this.elm.offsetParent.clientHeight;\n      const max = this.elm.offsetTop + this.elm.offsetHeight;\n      return new Range(min, max).distance(this.elm.offsetParent.scrollTop);\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  ratio(): number {\n    const r = this.elm.getBoundingClientRect();\n    if (!this.elm.offsetParent) {\n      return 0;\n    }\n    const pr = this.elm.offsetParent.getBoundingClientRect();\n    const xr = new Range(pr.left, pr.right);\n    const yr = new Range(pr.top, pr.bottom);\n    const w = xr.near(r.right) - xr.near(r.left);\n    const h = yr.near(r.bottom) - yr.near(r.top);\n    const cw = Math.min(r.width, pr.width);\n    const ch = Math.min(r.height, pr.height);\n    return (w * h) / (cw * ch);\n  }\n\n  inView(): boolean {\n    return this.distance() === 0;\n  }\n\n  setHeight(h: number) {\n    this._height = h;\n    this.elm.style.height = px(h);\n  }\n\n  scrollTo() {\n    this.elm.scrollIntoView(true);\n  }\n\n  ngOnDestroy() {\n    this.clear();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/image/image.component.ts","const checkNum = function (v) {\n  return v || v === 0;\n};\n\nexport class Range {\n  min: number;\n  max: number;\n\n  constructor(i, a) {\n    [this.min, this.max] = [i, a];\n  }\n\n  x(n: number): Range {\n    let min, max;\n    if (this.min !== null && n !== null) min = this.min * n;\n    if (this.max !== null && n !== null) max = this.max * n;\n    return new Range(min, max);\n  }\n\n  cmb(r: Range): Range {\n    let {min, max} = this;\n    if (r.min > min || !checkNum(min)) min = r.min;\n    if (r.max < max || !checkNum(max)) max = r.max;\n    return new Range(min, max);\n  }\n\n  between(v: number): number {\n    const r = 0;\n    if (checkNum(this.max) && v >= this.max) return 1;\n    else if (checkNum(this.min) && v <= this.min) return -1;\n    else return 0;\n  }\n\n  near(v: number) {\n    switch (this.between(v)) {\n      case 0:\n        return v;\n      case 1:\n        return this.max;\n      case -1:\n        return this.min;\n    }\n  }\n\n  distance(v: number) {\n    switch (this.between(v)) {\n      case 0:\n        return 0;\n      case 1:\n        return v - this.max;\n      case -1:\n        return v - this.min;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/image/range.ts","const qs = require('querystring');\nconst {ipcRenderer} = window['require']('electron');\n\nexport class Args {\n  path: string;\n  port: number;\n  _promise: Promise<any>;\n  _resolve: Function;\n  sema: number = 0;\n\n  constructor() {\n    this._promise = new Promise(resolve => this._resolve = resolve);\n  }\n\n  check() {\n    if (this._resolve && this.sema >= 2) {\n      this._resolve();\n    }\n  }\n\n  wait() {\n    return this._promise;\n  }\n\n  private _onPath: Function[] = [];\n\n  onPath(fn: Function) {\n    this._onPath.push(fn);\n  }\n\n  execOnPath() {\n    this._onPath.forEach(fn => fn(this.path))\n  }\n}\n\nconst args: Args = new Args();\n\nipcRenderer.on('path', (event, message) => {\n  console.warn('PATH:', message);\n  args.path = message;\n  args.execOnPath();\n  args.sema++;\n  args.check();\n});\nipcRenderer.on('port', (event, message) => {\n  console.warn('PORT:', message);\n  args.port = message;\n  args.sema++;\n  args.check();\n});\n\nexport default args;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/args.ts","import {BookMeta, PageMeta} from \"./meta\";\nimport args from \"../lib/args\";\nimport {Config} from \"../config.service\";\nimport {ImageComponent} from \"../image/image.component\";\nimport {get} from \"../lib/get\";\nconst getSubBookNames = function (pms: PageMeta[]) {\n  const m = new Map();\n  pms.forEach(pm => m.set(pm.SubBook, 1));\n  return Array.from(m.keys()).sort((a, b) => a.length - b.length);\n};\nconst {webFrame} = window['require']('electron');\n\nexport class Book {\n  locator: string;\n  meta: BookMeta;\n  _current: number;\n  total: number;\n  _onPage: Function[] = [];\n\n  constructor(path: string, private config: Config) {\n    this.locator = path;\n  }\n\n  get current(): number {\n    return this._current;\n  }\n\n  set current(page: number) {\n    const old = this._current;\n    this._current = page;\n    if (old !== page) {\n      this._onPage.forEach(cb => cb(page, old));\n    }\n  }\n\n  subBooks: string[];\n  curSubBook: string;\n  private _onSubBook: Function[] = [];\n\n  async init(): Promise<any> {\n    await args.wait();\n    const data = await get(`http://localhost:${args.port}/book`, {locator: this.locator});\n    this.meta = await data.json();\n    if (!this.meta.Pages || !this.meta.Pages.length) {\n      return 'Sorry, no book found in this folder.';\n    }\n    this.subBooks = getSubBookNames(this.meta.Pages);\n    this.setSubBook(this.subBooks[0]);\n  }\n\n  onSubBook(fn: Function) {\n    this._onSubBook.push(fn);\n  }\n\n  setSubBook(name: string) {\n    webFrame.clearCache();\n    this.curSubBook = name;\n    this.current = 1;\n    this.total = this.pages().length;\n    this._onSubBook.forEach(fn => fn());\n  }\n\n  pages() {\n    return this.meta && this.meta.Pages ? this.meta.Pages.filter(pm => pm.SubBook === this.curSubBook) : [];\n  }\n\n  private checkPage(page: number) {\n      return page > 0 && page <= this.total;\n  }\n\n  updateCurrent(page: number): boolean {\n    const ok = this.checkPage(page);\n    if (ok) {\n      this.current = page;\n    }\n    return ok;\n  }\n\n  // used for go in continuous scroll mode\n  private imgs: ImageComponent[];\n\n  bind(imgs: ImageComponent[]) {\n    this.imgs = imgs;\n  }\n\n  go(pageOrOffset: number, relative: boolean = false): boolean {\n    const page = relative ? this.current + pageOrOffset : pageOrOffset;\n    const ok = this.checkPage(page);\n    if (ok) {\n      if (this.config.isSinglePage()) {\n        this.current = page;\n      } else if (this.config.isContinuousScroll()) {\n        const img = this.imgs[page - 1];\n        img.scrollTo();\n      }\n    }\n    return ok;\n  }\n\n  prev(page?: number): boolean {\n    return this.go((page || 0) - 1, !page);\n  }\n\n  next(page?: number): boolean {\n    return this.go((page || 0) + 1, !page);\n  }\n\n  getPageFilePath(imgLocator: string) {\n    const url = new URL(`http://localhost:${args.port}/book/page`);\n    url['searchParams'].append('locator', this.locator);\n    url['searchParams'].append('page', imgLocator);\n    return url.href;\n  }\n\n  onPage(callback: (n?: number, old?: number) => void) {\n    this._onPage.push(callback);\n  }\n\n  onPageRemove(callback: (n?: number, old?: number) => void) {\n    this._onPage = this._onPage.filter(cb => cb !== callback);\n  }\n\n  // interface\n  pHasPageLoaded: Function;\n\n  hasPageLoaded(): Promise<void> {\n    return new Promise<void>(resolve => this.pHasPageLoaded = resolve);\n  }\n\n  ensureHasPageLoaded() {\n    if (this.pHasPageLoaded) this.pHasPageLoaded();\n  }\n\n  // last read\n  getLastReadIndex() {\n    return this.meta.Pages.map(pm => pm.Locator).indexOf(this.meta.LastRead);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/book.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 77;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 77\n// module chunks = 1","import {enableProdMode} from \"@angular/core\";\nimport {platformBrowserDynamic} from \"@angular/platform-browser-dynamic\";\n\nimport {AppModule} from \"./app/app.module\";\nimport {environment} from \"./environments/environment\";\n\n// if (environment.production) {\nenableProdMode();\n// }\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component, HostListener, NgZone, OnInit} from \"@angular/core\";\nimport args from \"./lib/args\";\nimport {alwaysOnTopItem, AppMenu, Menu, MenuItem} from \"./lib/menu\";\nimport {AppStorage, AppStorageValue, KeyValue} from \"./lib/storage\";\nimport {Title} from \"@angular/platform-browser\";\nconst electron = window['require']('electron');\nconst {webFrame} = electron;\nconst {dialog, getCurrentWindow, app} = electron.remote;\nconst ses = getCurrentWindow().webContents.session;\nconst getSize = () => new Promise<number>(resolve => ses.getCacheSize(size => resolve(size)));\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  path: string;\n  refresh: number = 0;\n  win: any;\n  titleBarContextMenu: any;\n\n  constructor(private zone: NgZone, private title: Title, private m: AppMenu, private s: AppStorage) {\n    webFrame.setZoomLevelLimits(1, 1);\n    this.win = getCurrentWindow();\n    const menu = new Menu();\n    const aotItem = new MenuItem(alwaysOnTopItem);\n    menu.append(aotItem);\n    menu.refreshAOTChecked = () => aotItem.checked = this.win.isAlwaysOnTop();\n    this.titleBarContextMenu = menu;\n\n    ses.on('will-download', (event) => {\n      event.preventDefault();\n    });\n\n    this.m.reset();\n    const re = this.s.get('menu.recentlyEnjoyed');\n    re.onChange(() => this.setFileMenu(re));\n    this.setFileMenu(re);\n  }\n\n  setFileMenu(re: AppStorageValue) {\n    // file menu\n    const fm = this.m.file();\n    fm.clear();\n    fm.append(new MenuItem({\n      label: 'Open...',\n      accelerator: 'CmdOrCtrl+O',\n      enabled: true,\n      click: () => this.zone.run(() => this.open())\n    }));\n    fm.append(new MenuItem({\n      label: 'Open URL...',\n      accelerator: 'CmdOrCtrl+U',\n      visible: false,\n      enabled: false,\n      click: () => this.zone.run(() => this.open())\n    }));\n    fm.append(new MenuItem({\n      label: 'Save As...',\n      enabled: false,\n      visible: false,\n      accelerator: 'CmdOrCtrl+Shift+S',\n      click(){\n        console.log('SAVE AS.');\n      }\n    }));\n    fm.append(new MenuItem({type: 'separator'}));\n    fm.append(new MenuItem({type: 'separator'}));\n    fm.append(new MenuItem({label: 'Recently Enjoyed', enabled: false}));\n    re.get([]).map((item: KeyValue<string, string>) => new MenuItem({\n      label: item.key,\n      click: () => this.zone.run(() => this.path = item.value)\n    })).map(item => fm.append(item));\n    this.m.set();\n  };\n\n  async whenOpen() {\n    webFrame.clearCache();\n    const ses = getCurrentWindow().webContents.session;\n    await new Promise(r => ses.clearCache(r));\n  }\n\n  async ngOnInit() {\n\n    await args.wait();\n    const path = args.path;\n    if (!path) {\n      await this.open();\n    } else {\n      this.path = path;\n      await this.whenOpen();\n    }\n    args.onPath(path => {\n      const shouldOpen = dialog.showMessageBox(getCurrentWindow(), {\n          type: 'question',\n          message: `File Open Request`,\n          detail: `Would you like to open '${path}'?`,\n          buttons: ['Yes', 'Cancel'],\n          cancelId: 1\n        }) === 0;\n      if (shouldOpen) {\n        this.zone.run(async () => {\n          this.path = path;\n          await this.whenOpen();\n        });\n      }\n    })\n  }\n\n  onOk() {\n    getCurrentWindow().show();\n  }\n\n  async open(e?: any) {\n    if (e) {\n      dialog.showMessageBox(this.win.isVisible() ? this.win : null, {\n        type: 'warning',\n        message: e\n      })\n    }\n    try {\n      this.path = dialog.showOpenDialog({\n        properties: ['openFile', 'openDirectory', 'showHiddenFiles'],\n        filters: [\n          {name: 'Images', extensions: ['webp', 'jpg', 'png', 'gif', 'jpeg']},\n          {name: 'Manga', extensions: ['eris']},\n          {name: 'Archive', extensions: ['rar', 'zip']},\n        ]\n      }).pop();\n      this.refresh++;\n      await this.whenOpen();\n    } catch (e) {\n    }\n  }\n\n  getTitle() {\n    return this.title.getTitle();\n  }\n\n  onContextMenu(e, titleBar) {\n    const m = this.titleBarContextMenu;\n    m.refreshAOTChecked();\n    m.popup(this.win, {x: e.x, y: titleBar.offsetHeight / 2});\n  }\n\n  zoom() {\n    const w = this.win;\n    return w.isMaximized() ? w.unmaximize() : w.maximize();\n  }\n\n  @HostListener('window:dragover', ['$event'])\n  @HostListener('window:dragleave', ['$event'])\n  @HostListener('window:dragend', ['$event']) onDropBefore() {\n    return false;\n  }\n\n  @HostListener('window:drop', ['$event']) onDrop(e) {\n    e.preventDefault();\n    this.path = e.dataTransfer.files[0].path;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from \"@angular/platform-browser\";\nimport {NgModule} from \"@angular/core\";\nimport {FormsModule} from \"@angular/forms\";\nimport {HttpModule} from \"@angular/http\";\n\nimport {AppComponent} from \"./app.component\";\nimport {TrustResourceUrlPipe} from \"./trust-resource-url.pipe\";\nimport {ReaderComponent} from \"./reader/reader.component\";\nimport {AppMenu} from \"./lib/menu\";\nimport {AppStorage} from \"./lib/storage\";\nimport {ImageComponent} from \"./image/image.component\";\nimport {ScrollComponent} from \"./scroll/scroll.component\";\nimport {Config} from \"./config.service\";\nimport { DotComponent } from './dot/dot.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ReaderComponent,\n    TrustResourceUrlPipe,\n    ImageComponent,\n    ScrollComponent,\n    DotComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [AppMenu, AppStorage, Config],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component, ElementRef, Input, OnDestroy, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'cm-dot',\n  templateUrl: './dot.component.html',\n  styleUrls: ['./dot.component.css']\n})\nexport class DotComponent implements OnInit, OnDestroy {\n\n  @Input() word: string;\n  @Input() interval: number;\n  timer: any;\n  elm: any;\n\n  constructor(elm: ElementRef) {\n    this.elm = elm.nativeElement;\n  }\n\n  ngOnInit() {\n    let times = 0;\n    this.timer = setInterval(() => {\n      times++;\n      const dots = (new Array(3))\n        .fill(false).map((v, i) => i < times % 4)\n        .map(v => `<span style=\"opacity: ${v ? 1 : 0}\">.</span>`)\n        .join('');\n      this.elm.querySelector('span').innerHTML = dots;\n    }, this.interval)\n  }\n\n  ngOnDestroy() {\n    clearInterval(this.timer);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/dot/dot.component.ts","import {Range} from \"./range\";\nimport {Size} from \"./size\";\n\nexport class Scale {\n  x: Range = new Range(null, null);\n  y: Range = new Range(null, null);\n\n  constructor(xi, xa, yi, ya) {\n    [this.x.min, this.x.max, this.y.min, this.y.max] = [xi, xa, yi, ya];\n  }\n\n  calc(parent: Size, child: Size) {\n    const wsr = this.x.x(parent.w).x(1 / child.w);\n    const hsr = this.y.x(parent.h).x(1 / child.h);\n    const sr = wsr.cmb(hsr);\n    const s = sr.near(100);\n    return s / 100;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/image/scale.ts","export const get = function (url: string, params: Object) {\n  const u = new URL(url);\n  for (let prop in params) {\n    u['searchParams'].append(prop, params[prop]);\n  }\n  return fetch(u.href);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/get.ts","export const time = {\n  Second: 1000,\n  Minute: 1000 * 60,\n  Hour: 1000 * 60 * 60,\n  Day: 1000 * 60 * 60 * 24,\n  Now() {\n    return Date.now();\n  },\n  Sleep(duration: number) {\n    return new Promise(r => setTimeout(r, duration));\n  },\n  Since(time: number){\n    return Date.now() - time;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/time.ts","const electron = window['require']('electron');\nconst {getCurrentWindow, TouchBar} = electron.remote;\nconst {TouchBarButton, TouchBarColorPicker, TouchBarGroup, TouchBarLabel, TouchBarPopover, TouchBarSlider, TouchBarSpacer, TouchBarScrubber, TouchBarSegmentedControl} = TouchBar;\n\nconst setTouchBar = function (args: any) {\n  const win = getCurrentWindow();\n  const touchBar = new TouchBar(args);\n  win.setTouchBar(touchBar);\n};\n\nexport {\n  setTouchBar,\n  TouchBarButton,\n  TouchBarColorPicker,\n  TouchBarGroup,\n  TouchBarLabel,\n  TouchBarPopover,\n  TouchBarSlider,\n  TouchBarSpacer,\n  TouchBarSegmentedControl,\n  TouchBarScrubber,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/touchbar.ts","import {Component, ElementRef, EventEmitter, HostListener, Input, NgZone, OnChanges, Output} from \"@angular/core\";\nimport {setTouchBar, TouchBarSegmentedControl, TouchBarSlider} from \"../lib/touchbar\";\nimport {ABMap, LRU, RustyLock, Timeout} from \"../lib/util\";\nimport {Book} from \"./book\";\nimport {Config} from \"../config.service\";\nimport {AppMenu} from \"../lib/menu\";\nimport {Title} from \"@angular/platform-browser\";\nimport {AppStorage} from \"app/lib/storage\";\nimport {time} from \"../lib/time\";\nconst fs = window['require']('fs');\nconst {dialog, BrowserWindow, getCurrentWindow, Menu, MenuItem} = window['require']('electron').remote;\n\n@Component({\n  selector: 'reader',\n  templateUrl: './reader.component.html',\n  styleUrls: ['./_common.css', './_pages.css', './_layer.css'],\n})\nexport class ReaderComponent implements OnChanges {\n\n  @Input() path: string;\n  @Input() refresh: number;\n  book: Book;\n  @Output() ok = new EventEmitter<null>();\n  @Output() fail = new EventEmitter<any>();\n  elm: HTMLElement;\n  loadingShow: boolean = false;\n\n  constructor(private zone: NgZone, private title: Title, private m: AppMenu, private s: AppStorage, elm: ElementRef, private config: Config) {\n    this.elm = elm.nativeElement;\n  }\n\n  async ngOnChanges(changes) {\n    if ((changes.path || changes.refresh) && this.path) {\n      this.config.clear();\n      this.book = null;\n      this.loadingShow = true;\n      const t = new Timeout();\n      this.book = new Book(this.path, this.config);\n      let e = await this.book.init();\n      if (e) {\n        this.fail.emit(e);\n        return;\n      }\n      this.ok.emit();\n      await this.book.hasPageLoaded();\n      await t.timeout(998);\n      this.loadingShow = false;\n      this.title.setTitle(this.book.meta.Name);\n\n      // if (this.book.meta.Pages.length > 512) {\n      //   alert('Now manga with more than 512 pages is not supported, the first 512 pages are displayed.');\n      //   this.book.meta.Pages = this.book.meta.Pages.slice(0, 512);\n      // }\n\n      // turn to specific page\n      setTimeout(() => {\n        if (this.book.meta.LastRead) {\n          const page = this.book.getLastReadIndex();\n          const shouldTurn = dialog.showMessageBox(getCurrentWindow(), {\n              type: 'question',\n              message: `Turn to Page${page}`,\n              detail: `The book is opened via page${page}, 'OK' to go that page rather than Page1.`,\n              buttons: ['Yes', 'Cancel'],\n              cancelId: 1\n            }) === 0;\n          if (shouldTurn) {\n            this.zone.run(() => this.book.go(page));\n          }\n        }\n      }, 0);\n      // scale and view\n      const barViewMap = new ABMap(Config.VIEW_ALL);\n      const barScaleMap = new ABMap(Config.SCALE_ALL);\n      const setView = i => {\n        this.zone.run(() => {\n          this.config.view.set(barViewMap.getB(i));\n        });\n      };\n      const setScale = i => {\n        this.zone.run(() => {\n          this.config.scale.set(barScaleMap.getB(i));\n        });\n      };\n      // todo: pinch\n      this.config.pinch.change(v => 0);\n\n      // menu\n      const re = this.s.get('menu.recentlyEnjoyed');\n      re.set((new LRU(re.get([]), this.config.recentlyEnjoyedLen, (a, b) => a.value === b.value)).add({\n        key: this.book.meta.Name || this.book.meta.Locator,\n        value: this.book.meta.Locator\n      }));\n      const vm = this.m.view();\n      vm.clear();\n      const append = (vm, ...itemsArr) => {\n        itemsArr.forEach(items => {\n          vm.append(new MenuItem({type: 'separator'}));\n          items.forEach(item => vm.append(item));\n        });\n      };\n      const viewItems = ['Continuous Scroll', 'Single Page'].map((label, i) => new MenuItem({\n        label,\n        accelerator: `CmdOrCtrl+${i + 1}`,\n        type: 'radio',\n        click: () => setView(i),\n        checked: barViewMap.getA(this.config.view.get()) === i,\n      }));\n      const modeItems = ['Full Page', 'Default', 'Width FullFilled'].map((label, i) => new MenuItem({\n        label,\n        accelerator: `CmdOrCtrl+Alt+${i + 1}`,\n        type: 'radio',\n        click: () => setScale(i),\n        checked: barScaleMap.getA(this.config.scale.get()) === i\n      }));\n      const goItems = ['First Page', 'Previous Page', 'Next Page'].map((label, i) => new MenuItem({\n        label,\n        accelerator: [null, 'Left', 'Right'][i],\n        click: () => {\n          this.zone.run(() => {\n            switch (i) {\n              case 0:\n                this.book.go(1);\n                break;\n              case 1:\n                this.onContextMenu();\n                break;\n              case 2:\n                this.onClick();\n                break;\n            }\n          })\n        }\n      }));\n      append(vm, viewItems, modeItems, goItems);\n      const cm = this.m.catalogue();\n      cm.clear();\n      const subBookItems = this.book.subBooks.map(name => new MenuItem({\n        label: '.'.includes(name) ? 'Default Book' : name,\n        type: 'radio',\n        click: () => this.zone.run(() => this.book.setSubBook(name)),\n        checked: this.book.curSubBook === name\n      }));\n\n      append(cm, [new MenuItem({\n        label: subBookItems.length > 1 ? 'multi-books inside' : 'no sub-book found',\n        enabled: false\n      })], subBookItems.length > 1 ? subBookItems : []);\n      this.m.set();\n      // const setZoomItemEnabled = (min: number, max: number) => {\n      //   const unit = this.config.ui.view.zoomUnit;\n      //   const cur = this.config.scale.get();\n      //   const toMin = (100 - unit) / 100 * cur;\n      //   const toMax = (100 + unit) / 100 * cur;\n      //   const threshold = 5;\n      //   // [zoomOutItem.enabled, zoomInItem.enabled] = [toMin - min <= threshold, max - toMax <= threshold];\n      // };\n      // this.config.scale.change(() => setZoomItemEnabled(this.config.scale.min, this.config.scale.max));\n      // this.config.onSetScaleConstraint((min, max) => setZoomItemEnabled(min, max));\n\n      // touchBar\n      const getProgressStr = (current: number = this.book.current) => current + '/' + this.book.total;\n      const lock = new RustyLock();\n      let barProgLastValue;\n      const slider = new TouchBarSlider({\n        label: getProgressStr(),\n        value: this.book.current,\n        minValue: 1,\n        maxValue: this.book.total,\n        change: (current: number) => {\n          if (barProgLastValue !== current) {\n            barProgLastValue = current;\n            slider.label = getProgressStr(current);\n            this.zone.run(() => this.book.go(current));\n            lock.lock(250);\n          }\n        }\n      });\n      const viewCtrl = new TouchBarSegmentedControl({\n        segments: [\n          {label: 'Scroll'},\n          {label: 'Single'},\n        ],\n        selectedIndex: barViewMap.getA(this.config.view.get()),\n        change: setView\n      });\n      const modeCtrl = new TouchBarSegmentedControl({\n        segments: [\n          {label: 'Page'},\n          {label: 'Default'},\n          {label: 'Width'},\n        ],\n        selectedIndex: barScaleMap.getA(this.config.scale.get()),\n        change: setScale\n      });\n      this.book.onPage((current) => {\n        lock.run(() => {\n          slider.value = current;\n          slider.label = getProgressStr(current);\n        })\n      });\n      this.book.onSubBook(() => {\n        slider.maxValue = this.book.total;\n        slider.label = getProgressStr(this.book.current);\n      });\n      setTouchBar([\n        viewCtrl,\n        slider,\n        // new TouchBarScrubber({\n        //   items: (new Array(this.book.total)).fill(1).map((v, i) => '' + i).map(i => ({label: i})),\n        //   highlight: index => console.log('touchBar scrubber:', index),\n        //   mode: 'free',\n        //   selectedStyle: 'outline',\n        // }),\n        modeCtrl,\n      ]);\n\n      // update menu and touchBar\n      this.config.view.change(n => {\n        const index = Config.VIEW_ALL.indexOf(n);\n        viewItems.filter((item, i) => i === index).forEach(item => item.checked = true);\n        viewCtrl.selectedIndex = index;\n      });\n      this.config.scale.change(n => {\n        const index = Config.SCALE_ALL.indexOf(n);\n        modeItems.filter((item, i) => i === index).forEach(item => item.checked = true);\n        modeCtrl.selectedIndex = index;\n      });\n    }\n  }\n\n  // setScaleConstraint() {\n  //   this.config.setScaleConstraint(this.book, this.elm, this.viewers);\n  // }\n\n  // @HostListener('resize', ['$event']) onResize() {\n  //   alert(1)\n  // setTimeout(() => {\n  //   this.setScaleConstraint();\n  // }, 0);\n  // }\n\n  @HostListener('window:keydown.pageDown', ['$event'])\n  @HostListener('click', ['$event']) onClick() {\n    this.config.scrollDirection = true;\n    const ok = this.book.next();\n    console.log(1, ok);\n  }\n\n  @HostListener('window:keydown.pageUp', ['$event'])\n  @HostListener('contextmenu', ['$event']) onContextMenu() {\n    this.config.scrollDirection = false;\n    const ok = this.book.prev();\n    console.log(ok);\n  }\n\n  @HostListener('window:mousewheel', ['$event']) onWheel(e) {\n    if (e.ctrlKey) {\n      e.preventDefault();\n      if (this.config.scale.is(Config.SCALE_DEFAULT)) {\n        this.config.pinch.set(Math.exp(-e.deltaY / 100));\n      }\n      return;\n    }\n    this.config.scrollDirection = e.deltaY > 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/reader.component.ts","import {ImageComponent} from \"../image/image.component\";\nimport {Config} from \"../config.service\";\nimport {LatestRunner} from \"../lib/util\";\nimport {Book} from \"../reader/book\";\n\nconst BACKWARD_RESERVE = 3;\nconst FORWARD_RESERVE = 6;\nconst NEXT_PRELOAD = 3;\n\nclass MinorQueue {\n  private wait: Promise<void>;\n  private interrupt: boolean = false;\n\n  async stop() {\n    if (this.wait) {\n      this.interrupt = true;\n      return this.wait;\n    }\n  }\n\n  async run(tasks: Promise<any>[]) {\n    let resolve: Function;\n    this.interrupt = false;\n    this.wait = new Promise<void>(r => resolve = r);\n    for (let i = 0; i < tasks.length; i++) {\n      await tasks[i];\n      if (this.interrupt) {\n        break;\n      }\n    }\n    resolve();\n  }\n}\n\nexport class CacheManager {\n  // imgs: ImageComponent[];\n  // queues\n  // showQ: ImageComponent[];\n  // cacheQ: ImageComponent[];\n\n  constructor(private config: Config, private book: Book, private imgs: ImageComponent[]) {\n  }\n\n  private getPreloadTasks(indexes: number[]): Promise<any>[] {\n    const d = this.config.scrollDirection ? 1 : -1;\n    const startPoint = d ? Math.max(...indexes) : Math.min(...indexes);\n    let from = Math.max(0, startPoint + d);\n    let to = Math.max(0, startPoint + d * NEXT_PRELOAD);\n    if (to < from) [to, from] = [from, to];\n    return this.imgs.slice(from, to).map(img => img.paint());\n  }\n\n  private getCleanTasks(indexes: number[]): Promise<any>[] {\n    const to = Math.max(0, Math.min(...indexes) - BACKWARD_RESERVE);\n    const from = Math.max(...indexes) + FORWARD_RESERVE;\n    return this.imgs.slice(0, to).concat(this.imgs.slice(from)).map(img => (async () => img.clear())());\n  }\n\n  minor = new MinorQueue();\n  latest = new LatestRunner();\n\n  async request(...indexes: number[]) {\n    // await this.latest.run(async () => {\n    await this.minor.stop();\n    for (let i = 0; i < indexes.length; i++) {\n      await this.imgs[indexes[i]].paint();\n      this.book.ensureHasPageLoaded();\n    }\n    let tasks = [];\n    tasks = tasks.concat(this.getPreloadTasks(indexes), this.getCleanTasks(indexes));\n    this.minor.run(tasks);\n    // });\n  }\n\n  debug() {\n    setInterval(() => {\n      console.clear();\n      console.table(this.imgs.map((img, i) => ({index: i, showing: img.showing ? '*' : undefined})));\n    }, 500);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/scroll/cache-manager.ts","import {Component, ElementRef, HostListener, Input, OnInit, QueryList, ViewChildren} from \"@angular/core\";\nimport {Book} from \"../reader/book\";\nimport {Config} from \"../config.service\";\nimport {ImageComponent} from \"../image/image.component\";\nimport {ABMap} from \"../lib/util\";\nimport {ViewContinuousScroll, ViewSinglePage} from \"./view-mode\";\nimport {CacheManager} from \"./cache-manager\";\nconst {webFrame} = window['require']('electron');\nlet checking: boolean = false;\n\n@Component({\n  selector: 'cm-scroll',\n  templateUrl: './scroll.component.html',\n  styleUrls: ['./scroll.component.css']\n})\nexport class ScrollComponent implements OnInit {\n  @Input() book: Book;\n  @ViewChildren(ImageComponent) imgs: QueryList<ImageComponent>;\n  private elm: HTMLElement;\n\n  constructor(private config: Config, elm: ElementRef) {\n    this.elm = elm.nativeElement;\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    let check;\n    const barViewMap = new ABMap(Config.VIEW_ALL);\n    let viewCS: ViewContinuousScroll, viewSP: ViewSinglePage;\n    this.imgs.changes.subscribe(async (changes) => {\n      // binding\n      const imgs = this.imgs.map(img => img);\n      const manager = new CacheManager(this.config, this.book, imgs);\n      if (viewSP) viewSP.after(this.book);\n      if (viewCS) viewCS.after(this.book);\n      viewCS = new ViewContinuousScroll(imgs, manager);\n      viewSP = new ViewSinglePage(imgs, manager);\n      if (!this.book) return;\n      this.book.bind(imgs);\n      // manager.debug();\n\n      // set check function\n      if (!imgs.length) return;\n      let checkCurView;\n      check = (newIndex?: number) => {\n        const newValue = barViewMap.getA(newIndex);\n        if (newIndex !== undefined) {\n          if (viewCS.is(newValue)) {\n            viewSP.after(this.book);\n            viewCS.before(this.config, this.book);\n            checkCurView = () => viewCS.check();\n          } else if (viewSP.is(newValue)) {\n            viewCS.after(this.book);\n            viewSP.before(this.book);\n            checkCurView = () => viewSP.check(this.book.current);\n          } else debugger;\n        }\n        if (!checkCurView) debugger;\n        checkCurView();\n      };\n      check(this.config.view.get());\n      this.config.view.change(n => check(n));\n    });\n  }\n\n  @HostListener('window:resize') onResize() {\n    this.imgs.map(img => img).filter(img => img.showing).forEach(img => img.resize())\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/scroll/scroll.component.ts","import {Config} from \"../config.service\";\nimport {ImageComponent} from \"../image/image.component\";\nimport {Book} from \"../reader/book\";\nimport {CacheManager} from \"./cache-manager\";\nimport {LatestRunner} from \"../lib/util\";\nimport {time} from \"../lib/time\";\n\ninterface ViewMode {\n  is(any): boolean;\n  before: Function;\n  check: Function;\n  after: Function;\n}\nconst r = new LatestRunner();\nexport class ViewSinglePage implements ViewMode {\n\n  is(view: any): boolean {\n    return view === Config.VIEW_SINGLE_PAGE;\n  }\n\n  private imgs: ImageComponent[];\n  private manager: CacheManager;\n\n  constructor(imgs: ImageComponent[], manager: CacheManager) {\n    this.imgs = imgs;\n    this.manager = manager;\n  }\n\n  onPage: any;\n\n  before(book: Book) {\n    this.imgs.filter((img, i) => i !== book.current - 1).forEach(img => img.hide());\n    this.onPage = (n: number) => {\n      this.check(n)\n    };\n    book.onPage(this.onPage);\n  }\n\n  private last: ImageComponent;\n\n  async check(page: number) {\n    // console.log(1, page);\n    await r.run(async () => {\n      const cur = this.imgs[page - 1];\n      // console.log(2, page);\n      await this.manager.request(page - 1);\n      // console.log(3, page);\n      if (this.last && this.last != cur) {\n        this.last.hide();\n      }\n      cur.scrollTo();\n      cur.show();\n      this.last = cur;\n    });\n\n  }\n\n  after(book: Book) {\n    if (book) book.onPageRemove(this.onPage);\n    this.last = null;\n  }\n}\n\nexport class ViewContinuousScroll implements ViewMode {\n  is(view: any): boolean {\n    return view === Config.VIEW_CONTINUOUS_SCROLL;\n  }\n\n  private imgs: ImageComponent[];\n  private manager: CacheManager;\n\n  constructor(imgs: ImageComponent[], manager: CacheManager) {\n    this.imgs = imgs;\n    this.manager = manager;\n  }\n\n  onPage: any;\n  private _timer: any;\n\n  before(config: Config, book: Book) {\n    this.imgs.forEach(img => img.show());\n    this.imgs[book.current - 1].scrollTo();\n    const r = new LatestRunner();\n    this._timer = setInterval(() => {\n      const r = this.imgs.map((img, i) => ({i: i, r: img.ratio()})).filter(x => x.r > 0.45);\n      const d = config.scrollDirection;\n      const focus = d ? r.pop() : r.shift();\n      if (focus) {\n        book.updateCurrent(focus.i + 1);\n      }\n    }, 300);\n    this.onPage = (n: number) => {\n      this.check();\n    };\n    book.onPage(this.onPage);\n  }\n\n  async check() {\n    await r.run(async () => {\n      const showingIndex = this.imgs.map((img, i) => ({\n        i: i,\n        inView: img.inView()\n      })).filter(x => x.inView).map(x => x.i);\n      await this.manager.request(...showingIndex);\n    });\n  }\n\n  after(book: Book) {\n    if (book) book.onPageRemove(this.onPage);\n    clearInterval(this._timer);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/scroll/view-mode.ts","import {Pipe, PipeTransform} from \"@angular/core\";\nimport {DomSanitizer} from \"@angular/platform-browser\";\n\n@Pipe({\n  name: 'trustResourceUrl'\n})\nexport class TrustResourceUrlPipe implements PipeTransform {\n  sanitizer: DomSanitizer;\n\n  constructor(_s: DomSanitizer) {\n    this.sanitizer = _s;\n  }\n\n  transform(value: any, args?: any): any {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/trust-resource-url.pipe.ts"],"sourceRoot":""}