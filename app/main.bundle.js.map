{"version":3,"sources":["webpack:///./src/app/app.component.css","webpack:///./src/app/reader/reader.component.css","webpack:///./src/app/viewer/viewer.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/reader/reader.component.html","webpack:///./src/app/viewer/viewer.component.html","webpack:///./src/app/book/book.service.ts","webpack:///./src/app/book/book.ts","webpack:///./src/app/fs.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/book/driver.ts","webpack:///./src/app/lib/fs.ts","webpack:///./src/app/lib/touchbar.ts","webpack:///./src/app/lib/util.ts","webpack:///./src/app/reader/reader.component.ts","webpack:///./src/app/trust-resource-url.pipe.ts","webpack:///./src/app/viewer/viewer.component.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".titlebar {\\n  height: 28px;\\n  -webkit-app-region: drag;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\nreader {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 144\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\nviewer, .layer {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n.layer {\\n  pointer-events: none;\\n}\\n\\n.layer .panel {\\n  position: absolute;\\n  background-color: #222;\\n  border-radius: 10px;\\n  color: #ccc;\\n  opacity: 0.8;\\n  padding: 10px 14px 8px 14px;\\n  font-family: 'Monaco', sans-serif;\\n  font-size: 14px;\\n}\\n\\n.progress {\\n  display: inline-block;\\n  top: 18px;\\n  right: 18px;\\n}\\n\\n.ctrl {\\n\\n  display: -webkit-box;\\n\\n  display: -ms-flexbox;\\n\\n  display: flex;\\n  -webkit-box-align: stretch;\\n      -ms-flex-align: stretch;\\n          align-items: stretch;\\n}\\n\\n.ctrl .panel {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/reader.component.css\n// module id = 145\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".viewer {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  overflow: auto;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: start;\\n      -ms-flex-pack: start;\\n          justify-content: flex-start;\\n}\\n\\n.viewer.x {\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n}\\n\\n.viewer.y {\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n\\n.viewer.tiny {\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n}\\n\\n.viewer.huge img {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n\\n.x img {\\n  max-width: 100vw;\\n}\\n\\n.y img {\\n  max-height: 100vh;\\n}\\n\\nimg {\\n  box-shadow: 0 0 32px 4px rgba(0, 0, 0, 0.4);\\n  -webkit-transition: 75ms ease-out;\\n  transition: 75ms ease-out;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 0;\\n  height: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/viewer/viewer.component.css\n// module id = 146\n// module chunks = 1","module.exports = \"<reader [path]=\\\"path\\\"></reader>\\n<header class=\\\"titlebar\\\"></header>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 151\n// module chunks = 1","module.exports = \"<viewer\\n  *ngFor=\\\"img in book.pages(_)\\\"\\n  [img]=\\\"img\\\"\\n  [scale]=\\\"scale\\\"\\n  (click)=\\\"next()\\\">\\n</viewer>\\n<section class=\\\"layer\\\">\\n  <section class=\\\"panel progress\\\">\\n    {{book?.curNum}} / {{book?.totalNum}}\\n  </section>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/reader/reader.component.html\n// module id = 152\n// module chunks = 1","module.exports = \"<section class=\\\"viewer\\\"\\n         [class.x]=\\\"isX(img)\\\"\\n         [class.y]=\\\"!isX(img)\\\"\\n         [class.tiny]=\\\"isTiny(img)\\\"\\n         [class.huge]=\\\"isHuge(img)\\\">\\n  <img *ngIf=\\\"img?.src\\\"\\n       [src]=\\\"img?.src | trustResourceUrl\\\"\\n       [style.maxHeight.%]=\\\"scale\\\"\\n       [style.maxWidth.%]=\\\"scale\\\"\\n       (load)=\\\"onLoad($event)\\\"\\n  >\\n</section>\\n<!--<div style=\\\"color: white;\\\">{{img?.src}}</div>-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/viewer/viewer.component.html\n// module id = 153\n// module chunks = 1","import {Injectable} from '@angular/core';\nimport {FileSystemService} from \"../fs.service\";\nimport {FileDriver} from \"./driver\";\nimport {Book} from \"./book\";\n\n\n@Injectable()\nexport class BookService {\n\n  constructor(private fs: FileSystemService) {\n  }\n\n  async create(path: string): Promise<Book> {\n    const driver = new FileDriver(this.fs);\n    const b = new Book(await driver.resolvePath(path));\n    await b.init(driver);\n    return b;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/book/book.service.ts","import {Driver} from \"./driver\";\nconst electron = window['require']('electron');\nconst {nativeImage} = electron;\n\nexport class Book {\n  meta: any;\n  _curNum: number;\n  totalNum: number;\n  _cache: ImageCache[];\n  _onPage: Function[] = [];\n\n  constructor(private path: string) {\n  }\n\n  async init(driver: Driver) {\n    this.meta = await driver.resolveMeta(this.path);\n    const paths = await driver.resolvePaths(this.path);\n    this._cache = paths.map(p => new ImageCache(p, driver));\n    this.totalNum = paths.length;\n    this.curNum = 1;\n  }\n\n  async goto(pageOrOffset: number, relative: boolean = false, cache: boolean = false): Promise<ImageMeta> {\n    const page = pageOrOffset + (relative ? this._curNum : 0);\n    return this.get(page, cache);\n  }\n\n  async get(page: number, cache: boolean = true): Promise<ImageMeta> {\n    if (page < 1) {\n      throw new Error('first page already');\n    } else if (page > this.totalNum) {\n      throw new Error('last page already');\n    } else {\n      this.curNum = page;\n      const img = await this._cache[page - 1].get();\n      // if (cache) {\n      //   const BACKWARD_NUM = 1;\n      //   const FORWARD_NUM = 3;\n      //   const FORWARD_RESERVE_NUM = 10;\n      //   for (let i = this.curNum; i < this.totalNum; i++) {\n      //     const offset = i - (this.curNum - 1);\n      //     if (offset <= FORWARD_NUM) {\n      //       this._cache[i].load();\n      //     } else if (offset >= FORWARD_RESERVE_NUM) {\n      //       this._cache[i].clear();\n      //     }\n      //   }\n      //   for (let i = this.curNum - 1; i >= 0; i--) {\n      //     const offset = (this.curNum - 1) - i;\n      //     if (offset > BACKWARD_NUM) {\n      //       this._cache[i].clear();\n      //     }\n      //   }\n      // }\n      return img;\n    }\n  }\n\n  // all(): ImageMeta[] {\n  // return this._cache.map(c => );\n  // }\n\n  get curNum() {\n    return this._curNum;\n  }\n\n  set curNum(v: number) {\n    const old = this._curNum;\n    this._curNum = v;\n    if (old !== v) {\n      this._onPage.forEach(callback => callback(v, old));\n    }\n  }\n\n  pages() {\n\n  }\n\n  onPage(callback: (n?: number, old?: number) => void) {\n    this._onPage.push(callback);\n  }\n}\n\nexport class ImageCache {\n  // buf: Buffer;\n  rejectFlag: boolean;\n  src: string = '';\n\n  constructor(private path: string,\n              private driver: Driver) {\n  }\n\n  clear() {\n    this.rejectFlag = true;\n    // this.buf = null;\n    window.URL.revokeObjectURL(this.src);\n    this.src = '';\n  }\n\n  loaded() {\n    return this.src.startsWith('blob');\n  }\n\n  async load() {\n    this.rejectFlag = false;\n    if (!this.loaded()) {\n      const buf = await this.driver.resolveImage(this.path);\n      if (this.rejectFlag) {\n        this.rejectFlag = false;\n      } else {\n        // this.buf = buf;\n        this.src = window.URL.createObjectURL(new Blob([buf], {type: 'image/jpg'}));\n      }\n    }\n    return this.src;\n  }\n\n  async get() {\n    // console.time('0');\n    await this.load();\n    // console.timeEnd('0');\n    // console.time('1');\n    // console.timeEnd('1');\n    // console.time('2');\n    // const img = nativeImage.createFromBuffer(this.buf);\n    // const size = img.getSize();\n    // console.timeEnd('2');\n    // return new ImageMeta(this.src, size.width, size.height);\n    return new ImageMeta(this.src, 100, 100);\n  }\n}\n\nexport class ImageMeta {\n  aspect: number;\n\n  constructor(public src: string,\n              public width: number,\n              public height: number) {\n    this.aspect = width / height;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/book/book.ts","import {Injectable} from '@angular/core';\nimport {FileSystem} from \"./lib/fs\";\n\n@Injectable()\nexport class FileSystemService extends FileSystem {\n\n  constructor() {\n    super()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/fs.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 73;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 73\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component} from '@angular/core';\nconst electron = window['require']('electron');\nconst {webFrame} = electron;\nconst {dialog, getCurrentWindow} = electron.remote;\nconst qs = require('querystring');\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  path: string;\n\n  constructor() {\n    webFrame.setVisualZoomLevelLimits(1, 1);\n    const win = getCurrentWindow();\n    const entry = JSON.parse(qs.parse(location.search.slice(1)).entry);\n    const path = entry.path;\n    // check is user folder\n    // check path has images\n    // const isUserImagesFolder = false;\n    const isUserImagesFolder = true;\n    if (isUserImagesFolder) {\n      this.path = dialog.showOpenDialog({properties: ['openFile', 'openDirectory']}).pop();\n    }\n    // this.path = '/Users/shixiao/Pictures';\n    win.show();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {HttpModule} from '@angular/http';\n\nimport {AppComponent} from './app.component';\nimport {ViewerComponent} from './viewer/viewer.component';\nimport {FileSystemService} from './fs.service';\nimport {BookService} from './book/book.service';\nimport {TrustResourceUrlPipe} from './trust-resource-url.pipe';\nimport {ReaderComponent} from './reader/reader.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ViewerComponent,\n    ReaderComponent,\n    TrustResourceUrlPipe\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [\n    FileSystemService,\n    BookService,\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {FileSystemService} from \"../fs.service\";\n\nexport interface Driver {\n  resolvePath(path: string): Promise<string>;\n  resolveMeta(path: string): Promise<any>;\n  resolvePaths(path: string): Promise<string[]>;\n  resolveImage(path: string): Promise<Buffer>;\n}\n\nexport class FileDriver implements Driver {\n\n  constructor(private fs: FileSystemService) {\n  }\n\n  async resolvePath(path: string): Promise<string> {\n    const getParentPath = function (path: string) {\n      return path.split('/').slice(0, -1).join('/');\n    };\n    return await this.fs.isDir(path) ? path : getParentPath(path);\n  }\n\n  async resolveMeta(path: string): Promise<any> {\n    return {}\n  }\n\n  async resolvePaths(path: string): Promise<string[]> {\n    return await this.fs.getDirImagePaths(path);\n  }\n\n  async resolveImage(path: string): Promise<Buffer> {\n    return this.fs.readFile(path);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/book/driver.ts","const _fs = window['require']('fs');\nconst path = require('path');\nconst _0777 = parseInt('0777', 8);\nfunction mkdirP(p: string, opts: Object, f?: Function, made?: any) {\n  let mode;\n  let xfs = _fs;\n\n  if (mode === undefined) {\n    mode = _0777 & (~process.umask());\n  }\n  if (!made) made = null;\n\n  let cb = f || function () {\n    };\n  p = path.resolve(p);\n\n  xfs.mkdir(p, mode, function (er) {\n    if (!er) {\n      made = made || p;\n      return cb(null, made);\n    }\n    switch (er.code) {\n      case 'ENOENT':\n        mkdirP(path.dirname(p), opts, function (er, made) {\n          if (er) cb(er, made);\n          else mkdirP(p, opts, cb, made);\n        });\n        break;\n      default:\n        xfs.stat(p, function (er2, stat) {\n          if (er2 || !stat.isDirectory()) cb(er, made);\n          else cb(null, made);\n        });\n        break;\n    }\n  });\n}\n\nclass Basic {\n  native: any = _fs;\n\n  async readFile(path: string): Promise<any> {\n    return new Promise<any>(function (resolve, reject) {\n      _fs.readFile(path, (err, data) => {\n        if (err) {\n          reject(err);\n        }\n        resolve(data);\n      });\n    });\n  }\n\n  async stats(path: string): Promise<any> {\n    return new Promise(function (resolve, reject) {\n      _fs.stat(path, function (err, stats) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(stats);\n        }\n      })\n    })\n  }\n\n  async readDir(path: string): Promise<string[]> {\n    return new Promise<string[]>(function (resolve, reject) {\n      _fs.readdir(path, function (err, files) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(files);\n        }\n      });\n    });\n  }\n\n  async mkdir(path: string): Promise<any> {\n    return new Promise(function (resolve, reject) {\n      _fs.mkdir(path, function (err, res) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(res);\n        }\n      })\n    })\n  }\n\n  async mkdirp(path: string): Promise<any> {\n    return new Promise(function (resolve, reject) {\n      mkdirP(path, function (err, res) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(res);\n        }\n      })\n    })\n  }\n\n  async isFile(path: string) {\n    const stats = await this.stats(path);\n    return stats.isFile();\n  }\n\n  async isDir(path: string) {\n    const stats = await this.stats(path);\n    return stats.isDirectory();\n  }\n}\n\nexport class FileSystem extends Basic {\n\n  async filterDirPaths(paths: string[]): Promise<string[]> {\n    const isDirs = await Promise.all(paths.map(path => this.isDir(path)));\n    const filtered = [];\n    paths.forEach((path, i) => {\n      if (isDirs[i]) {\n        filtered.push(path);\n      }\n    });\n    return filtered;\n  }\n\n  async filterExtPaths(paths: string[], exts: string[], onlyName: boolean = false): Promise<string[]> {\n    const isDirs = await Promise.all(paths.map(path => this.isFile(path)));\n    let filtered = [];\n    paths.forEach((path, i) => {\n      if (isDirs[i] && exts.indexOf(path.split('.').pop().toLowerCase()) >= 0) {\n        filtered.push(path);\n      }\n    });\n    if (onlyName) {\n      filtered = filtered.map(p => p.split('/').pop());\n    }\n    return filtered;\n  }\n\n  async filterImagePaths(paths: string[], onlyName: boolean = false): Promise<string[]> {\n    return this.filterExtPaths(paths, ['png', 'jpg', 'jpeg', 'gif', 'tiff'], onlyName);\n  }\n\n  async getDirImagePaths(path: string): Promise<string[]> {\n    const files = await this.readDir(path);\n    const paths = files.map(name => [path, name].join('/'));\n    return await this.filterImagePaths(paths);\n  }\n\n  async getDirImageNum(path: string): Promise<number> {\n    const paths = await this.getDirImagePaths(path);\n    return paths.length;\n  }\n\n  async isDirHasImage(path: string): Promise<boolean> {\n    let num = await this.getDirImageNum(path);\n    return !!num;\n  }\n\n  async filterHasImageDirPaths(paths: string[]): Promise<string[]> {\n    const has = await Promise.all(paths.map(path => this.isDirHasImage(path)));\n    return paths.filter((p, i) => has[i]);\n  }\n\n  async getSubDirPaths(path: string): Promise<string[]> {\n    const files = await this.readDir(path);\n    const paths = files.map(name => [path, name].join('/'));\n    return this.filterDirPaths(paths);\n  }\n\n  async getSubDirPathsr(paths: string[], depth: number = 3): Promise<string[]> {\n    const flat = function (arr: any[][]): any[] {\n      let flatted = [];\n      arr.forEach(a => {\n        if (a instanceof Array) {\n          flatted = flatted.concat(a);\n        }\n      });\n      return flatted;\n    };\n    let dirs: string[] = [].concat(paths);\n    for (let d = 0; d < depth; d++) {\n      const subs = await Promise.all(paths.map(path => this.getSubDirPaths(path)));\n      paths = flat(subs);\n      dirs = dirs.concat(paths);\n    }\n    return dirs;\n  }\n}\n\nexport const fs = new FileSystem();\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/fs.ts","const electron = window['require']('electron');\nconst {getCurrentWindow, TouchBar} = electron.remote;\nconst {TouchBarButton, TouchBarColorPicker, TouchBarGroup, TouchBarLabel, TouchBarPopover, TouchBarSlider, TouchBarSpacer} = TouchBar;\n\nconst setTouchBar = function (args: any) {\n  const win = getCurrentWindow();\n  const touchBar = new TouchBar(args);\n  win.setTouchBar(touchBar);\n};\n\nexport {\n  setTouchBar,\n  TouchBarButton,\n  TouchBarColorPicker,\n  TouchBarGroup,\n  TouchBarLabel,\n  TouchBarPopover,\n  TouchBarSlider,\n  TouchBarSpacer\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/touchbar.ts","import Timer = NodeJS.Timer;\n\nexport class IntervalTimer {\n  lastRunTime: number;\n  timer: Timer;\n\n  constructor() {\n  }\n\n  run(callback: Function, delay: number = 100) {\n    const now = Date.now();\n    if ((now - this.lastRunTime) > delay) {\n      this.lastRunTime = now;\n      callback();\n    } else {\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n      this.timer = setTimeout(() => {\n        this.lastRunTime = now;\n        callback();\n      }, delay - (now - this.lastRunTime));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lib/util.ts","import {Component, OnInit, Input, HostListener, NgZone} from '@angular/core';\nimport {setTouchBar, TouchBarButton, TouchBarSlider} from \"../lib/touchbar\";\nimport {BookService} from '../book/book.service';\nimport {Book, ImageMeta} from \"../book/book\";\nimport {IntervalTimer} from \"../lib/util\";\nconst fs = window['require']('fs');\n\n@Component({\n  selector: 'reader',\n  templateUrl: './reader.component.html',\n  styleUrls: ['./reader.component.css'],\n})\nexport class ReaderComponent implements OnInit {\n\n  @Input() path: string;\n  img: ImageMeta;\n  book: Book;\n  scale: number = 100;\n\n  // todo: multi-viewer: cache and better loading\n\n  @HostListener('window:contextmenu', ['$event']) onRightClick() {\n  }\n\n  constructor(private bookService: BookService, private zone: NgZone) {\n  }\n\n  async ngOnInit() {\n    this.book = await this.bookService.create(this.path);\n    await this.goto(1);\n    const getProgressStr = (curNum: number = this.book.curNum) => curNum + '/' + this.book.totalNum;\n    const getRealVal = (selectedVal: number) => this.book.totalNum > 100 ? selectedVal : Math.max(1, Math.round(this.book.totalNum * selectedVal / 100));\n    const getSelectedVal = (curNum: number = this.book.curNum) => this.book.totalNum > 100 ? curNum : Math.ceil(curNum / this.book.totalNum * 100);\n    const slideTimer = new IntervalTimer();\n    const slider = new TouchBarSlider({\n      label: getProgressStr(),\n      value: getSelectedVal(),\n      minValue: 1,\n      maxValue: Math.max(100, this.book.totalNum),\n      change: (newValue: number) => {\n        const curNum = getRealVal(newValue);\n        slider.label = getProgressStr(curNum);\n        slideTimer.run(() => this.zone.run(() => this.goto(curNum, false, false)), 75);\n      }\n    });\n    this.book.onPage((curNum) => {\n      slider.value = getSelectedVal(curNum);\n      slider.label = getProgressStr(curNum);\n    });\n    setTouchBar([\n      new TouchBarButton({label: 'Front', click: () => this.zone.run(() => this.goto(1))}),\n      slider,\n      new TouchBarButton({label: 'ZoomIn', click: () => this.zoom(-10)}),\n      new TouchBarButton({label: 'ZoomOut', click: () => this.zoom(10)}),\n    ]);\n  }\n\n  async goto(page: number, relative: boolean = false, cache: boolean = true) {\n    try {\n      // console.time('overall');\n      // console.time('goto');\n      // console.time('image load');\n      this.img = await this.book.goto(page, relative, cache);\n      // console.timeEnd('goto');\n    } catch (e) {\n    }\n  }\n\n  zoom(percent: number) {\n    this.zone.run(() => {\n      this.scale += percent;\n    });\n  }\n\n  @HostListener('window:keydown.pageUp', ['$event'])\n  @HostListener('window:keydown.arrowUp', ['$event'])\n  @HostListener('window:keydown.arrowLeft', ['$event'])\n  async prev() {\n    return await this.goto(-1, true);\n  };\n\n  @HostListener('window:keydown.pageDown', ['$event'])\n  @HostListener('window:keydown.arrowDown', ['$event'])\n  @HostListener('window:keydown.arrowRight', ['$event'])\n  async next() {\n    return await this.goto(1, true);\n  };\n\n  @HostListener('window:mousewheel', ['$event'])\n  async onWheel(e) {\n    // if (e.deltaY > 0) {\n    //   await this.next();\n    // } else {\n    //   await this.prev();\n    // }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reader/reader.component.ts","import {Pipe, PipeTransform} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({\n  name: 'trustResourceUrl'\n})\nexport class TrustResourceUrlPipe implements PipeTransform {\n  sanitizer: DomSanitizer;\n\n  constructor(_s: DomSanitizer) {\n    this.sanitizer = _s;\n  }\n\n  transform(value: any, args?: any): any {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/trust-resource-url.pipe.ts","import {Component, OnInit, Input, OnChanges} from '@angular/core';\nimport {ImageMeta} from '../book/book';\nconst getWindowSize = () => {\n  return [window.innerWidth, window.innerHeight];\n};\n\n@Component({\n  selector: 'viewer',\n  templateUrl: './viewer.component.html',\n  styleUrls: ['./viewer.component.css']\n})\nexport class ViewerComponent implements OnInit, OnChanges {\n\n  @Input() img: ImageMeta;\n  @Input() scale: number;\n\n  constructor() {\n  }\n\n  async ngOnInit() {\n  }\n\n  ngOnChanges(changes) {\n    if (changes.img || changes.scale) {\n      // console.timeEnd('overall');\n    }\n  }\n\n  isX(img?: ImageMeta) {\n    if (img) {\n      const [w, h] = getWindowSize();\n      return img.aspect > w / h;\n    }\n  }\n\n  isTiny(img?: ImageMeta) {\n    if (img) {\n      const [w, h] = getWindowSize();\n      return this.scale < 100 || (img.width < w && img.height < h);\n    }\n  }\n\n  isHuge(img?: ImageMeta) {\n    if (img) {\n      const [w, h] = getWindowSize();\n      const ratio = this.scale / 100;\n      return img.width * ratio > w && img.height * ratio > h;\n    }\n  }\n\n  max(img?: ImageMeta) {\n    return this.isTiny(img) ? 100 : this.scale;\n  }\n\n  onLoad(e) {\n    // console.log(e);\n    // console.timeEnd('image load');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/viewer/viewer.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}